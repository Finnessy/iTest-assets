<?xml version="1.0"?>
<testCase version="6.1.0.e2e4ec0">
    <general>
        <isProcedureLibrary>true</isProcedureLibrary>
        <sessionClass includeTestCase="true" sessionType="qq_db.ffsp"/>
    </general>
    <procedures>
        <item name="main">
            <description>The entry point to the test case</description>
            <steps>
                <item guid="271f0f8f-e53d-4044-8c92-79d5856d68be" action="comment">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
            </steps>
        </item>
        <item name="activate_reservation" isPublic="true">
            <steps>
                <item guid="9faae702-e212-48e3-9c24-dff86b2de71f" action="comment">
                    <command>
                        <body>The list of endpoints is needed to activate a reservation</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="c15fde67-d066-470e-9f71-dfbb5c02b702" action="command" session="$session">
                    <command>
                        <body>::TestShellAPI::GetReservationDetails $reservationId</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="contains">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.ExtractorContainsPropertyGroup">
                                        <searchString>SUCCESS</searchString>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="assert">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                        <expression>$value == 1</expression>
                                        <actionsWhenTrue>
                                            <item actionId="PassTestIfNotAlreadyFailed">
                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            </item>
                                        </actionsWhenTrue>
                                        <actionsWhenFalse>
                                            <item actionId="DeclareExecutionIssue">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                    <message>Failed to retrieve the reservation details</message>
                                                </actionProperties>
                                            </item>
                                            <item actionId="FailTest">
                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            </item>
                                            <item actionId="ExitProcedure">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExitProcedurePropertyGroup">
                                                    <return>0</return>
                                                </actionProperties>
                                            </item>
                                        </actionsWhenFalse>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>mapped/Xml/ResponseInfo/ReservationDescription/Resources/ReservedResource[.]/@Name</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>resourcesNamesList</storageLocation>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>mapped/Xml/ResponseInfo/ReservationDescription/Resources/ReservedResource[.]/@Shared</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>resourcesSharedList</storageLocation>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                        <query>mapped/Xml/ResponseInfo/ReservationDescription/RequestedRoutesInfo/RequestedRoute[.]/@Source | mapped/Xml/ResponseInfo/ReservationDescription/RequestedRoutesInfo/RequestedRoute[.]/@Target</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>routesEndpoints</storageLocation>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>mapped/Xml/ResponseInfo/ReservationDescription/@Status</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>reservationStatus</storageLocation>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>mapped/Xml/ResponseInfo/ReservationDescription/@EndTime</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>endTime</storageLocation>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                        <storeResponseAt>getReservationDetails</storeResponseAt>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="c92a1406-a43e-48f6-bcd4-2223f311bf30" action="eval">
                    <command>
                        <body>set sharedList &quot;&quot;</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="605e6c54-7c84-4080-955b-996493c8a51e" action="eval">
                    <command>
                        <body>set unsharedList &quot;&quot;</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="4dd0eaee-32a6-420b-b408-8d4338729070" action="eval">
                    <command>
                        <body>set sharedEndpointsList &quot;&quot;</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="f032505b-f6ce-4a5f-886b-3431052ad056" action="eval">
                    <command>
                        <body>set unsharedEndpointsList &quot;&quot;</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="a1a0805e-02c2-4c0b-b7a5-b3c49f9322b7" action="foreach">
                    <command>
                        <body>resName $resourcesNamesList resShared $resourcesSharedList</body>
                    </command>
                    <nestedSteps>
                        <item guid="f72d5285-d5e9-4e9a-8485-be051970524d" action="if">
                            <command>
                                <body>[lsearch $routesEndpoints $resName] != -1</body>
                            </command>
                            <nestedSteps>
                                <item guid="9517f1fc-4bce-4e2d-8d90-83ea9368592c" action="then">
                                    <nestedSteps>
                                        <item guid="81550265-888d-46de-a02f-d94d232c2ad0" action="if">
                                            <command>
                                                <body>$resShared == &quot;true&quot;</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="d8e3532f-e0f9-4523-8371-334dc4329f6d" action="then">
                                                    <nestedSteps>
                                                        <item guid="17579734-dc32-4bc6-b94e-74cdbc071460" action="eval">
                                                            <command>
                                                                <body>lappend sharedList $resName</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                </item>
                                                <item guid="8f7a85a8-8795-4ed8-9aca-91a18c11d2c2" action="else">
                                                    <nestedSteps>
                                                        <item guid="fcd7554b-443e-43f7-84df-af7ad267ad96" action="eval">
                                                            <command>
                                                                <body>lappend unsharedList $resName</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="01267fef-7d5f-4c1d-98d7-295941d7fd4d" action="foreach">
                    <command>
                        <body>resName $routesEndpoints</body>
                    </command>
                    <nestedSteps>
                        <item guid="ed2b7404-5345-4b85-b821-c259de9e79f2" action="if">
                            <command>
                                <body>[lsearch $sharedList $resName] != -1</body>
                            </command>
                            <nestedSteps>
                                <item guid="a2a63111-6ab5-4010-9f6c-db92a7712f1c" action="then">
                                    <nestedSteps>
                                        <item guid="86026c3c-ef71-4883-a058-446b361cc7e3" action="eval">
                                            <command>
                                                <body>lappend sharedEndpointsList $resName</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="62eefd83-32f4-47e2-b59f-74adece77516" action="if">
                            <command>
                                <body>[lsearch $unsharedList $resName] != -1</body>
                            </command>
                            <nestedSteps>
                                <item guid="2ae37f65-285a-429b-85e0-0074abe924e9" action="then">
                                    <nestedSteps>
                                        <item guid="4ac5fb21-6f05-4482-9ce5-89d3f788c5b0" action="eval">
                                            <command>
                                                <body>lappend unsharedEndpointsList $resName</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="51c62569-5df8-47a2-9a5d-a9b14e313875" action="if">
                    <command>
                        <body>$reservationStatus == &quot;Started&quot;</body>
                    </command>
                    <nestedSteps>
                        <item guid="dad3dd51-9721-4f0c-83b0-2bb280a9e5a3" action="then">
                            <nestedSteps>
                                <item guid="03d372ee-281f-4173-b79b-94ad42127eb1" action="eval">
                                    <command>
                                        <body>set convertedTime [clock scan $endTime]</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="11de8e1d-c889-45d9-8794-93a14b71f2d9" action="eval">
                                    <command>
                                        <body>set currentTime [clock seconds]</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="2705cf4d-4b09-46b2-9689-a1e62f8bb8e3" action="eval">
                                    <command>
                                        <body>regexp {(\\d+):(\\d+):(\\d+)} [clock format [expr $convertedTime - $currentTime] -gmt 1 -format %d:%H:%M] all days hours minutes</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="7ee341ba-6ea2-4cac-9056-7e9392e8c3a2" action="eval">
                                    <command>
                                        <body>incr days -1;incr hours -4</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="c6443834-4351-4521-8073-0cd876f79f0f" action="eval">
                                    <command>
                                        <body>set minutesLeft [expr [scan $days %d] * 24 + [scan $hours %d] * 60 + [scan $minutes %d]]</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="9c54d47a-2e75-4894-adde-b5686c0030a1" action="if">
                                    <command>
                                        <body>$minutesLeft &lt; 10</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="f31a4e1e-c810-45ec-938d-1b12d2607e78" action="then">
                                            <nestedSteps>
                                                <item guid="99e4fe90-b3e4-4788-ae5b-d973bf75088e" action="eval">
                                                    <command>
                                                        <body>puts Warning</body>
                                                    </command>
                                                    <postProcessing>
                                                        <analysisRules>
                                                            <item>
                                                                <extractorInfo extractorType="none">
                                                                    <extractorProperties type="com.fnfr.svt.documents.EmptyExtractorPropertyGroup"/>
                                                                </extractorInfo>
                                                                <processorInfo ruleType="message">
                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.MessageProcessorPropertyGroup" severity="Warning">
                                                                        <message> Time left on the reservation: $days days, $hours hours and $minutes minutes</message>
                                                                    </ruleProperties>
                                                                </processorInfo>
                                                            </item>
                                                        </analysisRules>
                                                    </postProcessing>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                        <item guid="8ec45a72-fd13-411b-81ff-83531d79c6bb" action="else">
                                            <nestedSteps>
                                                <item guid="09a753b6-6481-4e1b-9214-1222643e0e86" action="eval">
                                                    <command>
                                                        <body>puts OK</body>
                                                    </command>
                                                    <postProcessing>
                                                        <analysisRules>
                                                            <item>
                                                                <extractorInfo extractorType="none">
                                                                    <extractorProperties type="com.fnfr.svt.documents.EmptyExtractorPropertyGroup"/>
                                                                </extractorInfo>
                                                                <processorInfo ruleType="message">
                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.MessageProcessorPropertyGroup" severity="Information">
                                                                        <message> Time left on the reservation: $days days, $hours hours and $minutes minutes</message>
                                                                    </ruleProperties>
                                                                </processorInfo>
                                                            </item>
                                                        </analysisRules>
                                                    </postProcessing>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="af8fc248-c569-4a68-bbdc-65f5d7610efa" action="if">
                                    <command>
                                        <body>[llength $sharedEndpointsList]</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="f33d4dda-4eb8-4aef-81cc-b5244add751b" action="then">
                                            <nestedSteps>
                                                <item guid="bca4e879-1f18-41a9-87b0-bb43f7b710e6" action="eval">
                                                    <command>
                                                        <body>set ethernetEndpoints &quot;&quot;</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                </item>
                                                <item guid="a0ac6276-c92a-43ad-91d7-df2a254214a8" action="eval">
                                                    <command>
                                                        <body>set tenGEthernetEndpoints &quot;&quot;</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                </item>
                                                <item guid="92743d88-0edf-41e1-a10c-6a28e7ba81d2" action="eval">
                                                    <command>
                                                        <body>set hseEthernetEndpoints &quot;&quot;</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                </item>
                                                <item guid="feba6aaa-79ff-4b91-9734-aec3fb168555" action="foreach">
                                                    <command>
                                                        <body>res $sharedEndpointsList</body>
                                                    </command>
                                                    <nestedSteps>
                                                        <item guid="1f9b557b-4e4a-4f3a-88e4-45b466ec30f4" action="command" session="$session">
                                                            <command>
                                                                <body>::TestShellAPI::GetResourceDetails $res 1</body>
                                                            </command>
                                                            <postProcessing>
                                                                <analysisRules>
                                                                    <item>
                                                                        <extractorInfo extractorType="contains">
                                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.ExtractorContainsPropertyGroup">
                                                                                <searchString>SUCCESS</searchString>
                                                                            </extractorProperties>
                                                                        </extractorInfo>
                                                                        <processorInfo ruleType="assert">
                                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                                                <expression>$value == 1</expression>
                                                                                <actionsWhenFalse>
                                                                                    <item actionId="DeclareExecutionIssue">
                                                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                                                            <message>Failed to retrieve the resource details for $res</message>
                                                                                        </actionProperties>
                                                                                    </item>
                                                                                    <item actionId="FailTest">
                                                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                    </item>
                                                                                    <item actionId="ExitProcedure">
                                                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExitProcedurePropertyGroup">
                                                                                            <return>0</return>
                                                                                        </actionProperties>
                                                                                    </item>
                                                                                </actionsWhenFalse>
                                                                            </ruleProperties>
                                                                        </processorInfo>
                                                                    </item>
                                                                    <item>
                                                                        <extractorInfo extractorType="regex">
                                                                            <extractorProperties type="com.fnfr.svt.mapping.regex.extractors.RegexExtractorPropertyGroup" useLineMode="true">
                                                                                <regex>^\\s+\\&lt;ResourceAttribute Name=&quot;Protocol Type&quot; Value=&quot;(.+)&quot; Type=&quot;</regex>
                                                                            </extractorProperties>
                                                                        </extractorInfo>
                                                                        <processorInfo ruleType="store">
                                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                                <storageLocation>linkType</storageLocation>
                                                                            </ruleProperties>
                                                                        </processorInfo>
                                                                    </item>
                                                                </analysisRules>
                                                            </postProcessing>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="96202117-768c-4ce2-9808-5ebe92dd8218" action="if">
                                                            <command>
                                                                <body>$linkType == &quot;Ethernet&quot;</body>
                                                            </command>
                                                            <nestedSteps>
                                                                <item guid="227f588a-48be-4256-bb1a-3c8b2b6446e4" action="then">
                                                                    <nestedSteps>
                                                                        <item guid="d8a6dbdf-ced9-4eaf-9b79-9ce8b05f8972" action="eval">
                                                                            <command>
                                                                                <body>lappend ethernetEndpoints $res</body>
                                                                            </command>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                                        </item>
                                                                    </nestedSteps>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                                </item>
                                                                <item guid="56590154-7552-4624-9697-2652e5f0f0df" action="elseif">
                                                                    <command>
                                                                        <body>$linkType == &quot;10G Ethernet&quot;</body>
                                                                    </command>
                                                                    <nestedSteps>
                                                                        <item guid="890be200-6638-4f19-9f5b-3bbeeb6bb584" action="eval">
                                                                            <command>
                                                                                <body>lappend tenGEthernetEndpoints $res</body>
                                                                            </command>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                                        </item>
                                                                    </nestedSteps>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                                </item>
                                                                <item guid="2bcf7fd9-fa51-4481-8c9b-79bc91c9d547" action="elseif">
                                                                    <command>
                                                                        <body>$linkType == &quot;HSE&quot;</body>
                                                                    </command>
                                                                    <nestedSteps>
                                                                        <item guid="df353fa8-f064-41c3-8a3f-2b86a93b2273" action="eval">
                                                                            <command>
                                                                                <body>lappend hseEthernetEndpoints $res</body>
                                                                            </command>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                                        </item>
                                                                    </nestedSteps>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                                </item>
                                                            </nestedSteps>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                </item>
                                                <item guid="9c54cfd4-16da-4949-a729-c1d4f8f61b5b" action="if">
                                                    <command>
                                                        <body>[llength $ethernetEndpoints]</body>
                                                    </command>
                                                    <nestedSteps>
                                                        <item guid="caceb4c2-641d-46c1-a40d-c310a7b3460d" action="then">
                                                            <nestedSteps>
                                                                <item guid="8b9336fb-6d4c-4248-bc37-db56cbb7377a" action="command" session="$session">
                                                                    <command>
                                                                        <body>::TestShellAPI::ConnectRoutesInReservation $reservationId [list $ethernetEndpoints] bi</body>
                                                                    </command>
                                                                    <postProcessing>
                                                                        <analysisRules>
                                                                            <item>
                                                                                <extractorInfo extractorType="contains">
                                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.ExtractorContainsPropertyGroup">
                                                                                        <searchString>SUCCESS</searchString>
                                                                                    </extractorProperties>
                                                                                </extractorInfo>
                                                                                <processorInfo ruleType="assert">
                                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                                                        <expression>$value == 1</expression>
                                                                                        <actionsWhenTrue>
                                                                                            <item actionId="DeclareExecutionIssue">
                                                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="Information">
                                                                                                    <message>Successfully connected the 1g shared routes in reservation</message>
                                                                                                </actionProperties>
                                                                                            </item>
                                                                                        </actionsWhenTrue>
                                                                                        <actionsWhenFalse>
                                                                                            <item actionId="DeclareExecutionIssue">
                                                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                                                                    <message>Failed to connect the 1g shared routes in reservation</message>
                                                                                                </actionProperties>
                                                                                            </item>
                                                                                            <item actionId="FailTest">
                                                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                            </item>
                                                                                            <item actionId="ExitProcedure">
                                                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExitProcedurePropertyGroup">
                                                                                                    <return>0</return>
                                                                                                </actionProperties>
                                                                                            </item>
                                                                                        </actionsWhenFalse>
                                                                                    </ruleProperties>
                                                                                </processorInfo>
                                                                            </item>
                                                                        </analysisRules>
                                                                    </postProcessing>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                            </nestedSteps>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                </item>
                                                <item guid="aeb33f99-9b3d-41ce-9505-b2a1a0d37bcf" action="if">
                                                    <command>
                                                        <body>[llength $tenGEthernetEndpoints]</body>
                                                    </command>
                                                    <nestedSteps>
                                                        <item guid="85668b8b-c7bb-4bd9-b01a-fe443e9b0d6a" action="then">
                                                            <nestedSteps>
                                                                <item guid="d90f2159-32a8-43c6-b9b6-6d0c82e3378d" action="command" session="$session">
                                                                    <command>
                                                                        <body>::TestShellAPI::ConnectRoutesInReservation $reservationId [list $tenGEthernetEndpoints] bi</body>
                                                                    </command>
                                                                    <postProcessing>
                                                                        <analysisRules>
                                                                            <item>
                                                                                <extractorInfo extractorType="contains">
                                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.ExtractorContainsPropertyGroup">
                                                                                        <searchString>SUCCESS</searchString>
                                                                                    </extractorProperties>
                                                                                </extractorInfo>
                                                                                <processorInfo ruleType="assert">
                                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                                                        <expression>$value == 1</expression>
                                                                                        <actionsWhenTrue>
                                                                                            <item actionId="DeclareExecutionIssue">
                                                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="Information">
                                                                                                    <message>Successfully connected the 10g shared routes in reservation</message>
                                                                                                </actionProperties>
                                                                                            </item>
                                                                                        </actionsWhenTrue>
                                                                                        <actionsWhenFalse>
                                                                                            <item actionId="DeclareExecutionIssue">
                                                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                                                                    <message>Failed to connect the 10g shared routes in reservation</message>
                                                                                                </actionProperties>
                                                                                            </item>
                                                                                            <item actionId="FailTest">
                                                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                            </item>
                                                                                            <item actionId="ExitProcedure">
                                                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExitProcedurePropertyGroup">
                                                                                                    <return>0</return>
                                                                                                </actionProperties>
                                                                                            </item>
                                                                                        </actionsWhenFalse>
                                                                                    </ruleProperties>
                                                                                </processorInfo>
                                                                            </item>
                                                                        </analysisRules>
                                                                    </postProcessing>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                            </nestedSteps>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                </item>
                                                <item guid="200ebe50-a679-43e5-b457-c616e50a2f57" action="if">
                                                    <command>
                                                        <body>[llength $hseEthernetEndpoints]</body>
                                                    </command>
                                                    <nestedSteps>
                                                        <item guid="b7d4313a-ead6-447d-a660-a4977abff8d9" action="then">
                                                            <nestedSteps>
                                                                <item guid="64d05040-380e-47b0-89d6-0a4b9a697c2e" action="command" session="$session">
                                                                    <command>
                                                                        <body>::TestShellAPI::ConnectRoutesInReservation $reservationId [list $hseEthernetEndpoints] bi</body>
                                                                    </command>
                                                                    <postProcessing>
                                                                        <analysisRules>
                                                                            <item>
                                                                                <extractorInfo extractorType="contains">
                                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.ExtractorContainsPropertyGroup">
                                                                                        <searchString>SUCCESS</searchString>
                                                                                    </extractorProperties>
                                                                                </extractorInfo>
                                                                                <processorInfo ruleType="assert">
                                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                                                        <expression>$value == 1</expression>
                                                                                        <actionsWhenTrue>
                                                                                            <item actionId="DeclareExecutionIssue">
                                                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="Information">
                                                                                                    <message>Successfully connected the hse shared routes in reservation</message>
                                                                                                </actionProperties>
                                                                                            </item>
                                                                                        </actionsWhenTrue>
                                                                                        <actionsWhenFalse>
                                                                                            <item actionId="DeclareExecutionIssue">
                                                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                                                                    <message>Failed to connect the hse shared routes in reservation</message>
                                                                                                </actionProperties>
                                                                                            </item>
                                                                                            <item actionId="FailTest">
                                                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                            </item>
                                                                                            <item actionId="ExitProcedure">
                                                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExitProcedurePropertyGroup">
                                                                                                    <return>0</return>
                                                                                                </actionProperties>
                                                                                            </item>
                                                                                        </actionsWhenFalse>
                                                                                    </ruleProperties>
                                                                                </processorInfo>
                                                                            </item>
                                                                        </analysisRules>
                                                                    </postProcessing>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                            </nestedSteps>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="3fabec73-6e2d-4404-af78-349370cf46e1" action="if">
                                    <command>
                                        <body>[llength $unsharedEndpointsList]</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="783cdc00-5e4c-4ffd-b331-69fde2c893ce" action="then">
                                            <nestedSteps>
                                                <item guid="fe315d73-f521-4d59-8b17-157296835311" action="eval">
                                                    <command>
                                                        <body>set ethernetEndpoints &quot;&quot;</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                </item>
                                                <item guid="af56288b-d20b-497f-8310-e2b445c78ee7" action="eval">
                                                    <command>
                                                        <body>set tenGEthernetEndpoints &quot;&quot;</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                </item>
                                                <item guid="a1f6f53f-fd76-46cb-8912-a4ab27222a4d" action="eval">
                                                    <command>
                                                        <body>set hseEthernetEndpoints &quot;&quot;</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                </item>
                                                <item guid="6a290da7-6f87-48b7-895b-0063232b577e" action="foreach">
                                                    <command>
                                                        <body>res $unsharedEndpointsList</body>
                                                    </command>
                                                    <nestedSteps>
                                                        <item guid="67d56e73-0040-4db6-b6e1-5bb82af6e638" action="command" session="$session">
                                                            <command>
                                                                <body>::TestShellAPI::GetResourceDetails $res 1</body>
                                                            </command>
                                                            <postProcessing>
                                                                <analysisRules>
                                                                    <item>
                                                                        <extractorInfo extractorType="contains">
                                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.ExtractorContainsPropertyGroup">
                                                                                <searchString>SUCCESS</searchString>
                                                                            </extractorProperties>
                                                                        </extractorInfo>
                                                                        <processorInfo ruleType="assert">
                                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                                                <expression>$value == 1</expression>
                                                                                <actionsWhenFalse>
                                                                                    <item actionId="DeclareExecutionIssue">
                                                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                                                            <message>Failed to retrieve the resource details for $res</message>
                                                                                        </actionProperties>
                                                                                    </item>
                                                                                    <item actionId="FailTest">
                                                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                    </item>
                                                                                    <item actionId="ExitProcedure">
                                                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExitProcedurePropertyGroup">
                                                                                            <return>0</return>
                                                                                        </actionProperties>
                                                                                    </item>
                                                                                </actionsWhenFalse>
                                                                            </ruleProperties>
                                                                        </processorInfo>
                                                                    </item>
                                                                    <item>
                                                                        <extractorInfo extractorType="regex">
                                                                            <extractorProperties type="com.fnfr.svt.mapping.regex.extractors.RegexExtractorPropertyGroup" useLineMode="true">
                                                                                <regex>^\\s+\\&lt;ResourceAttribute Name=&quot;Protocol Type&quot; Value=&quot;(.+)&quot; Type=&quot;</regex>
                                                                            </extractorProperties>
                                                                        </extractorInfo>
                                                                        <processorInfo ruleType="store">
                                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                                <storageLocation>linkType</storageLocation>
                                                                            </ruleProperties>
                                                                        </processorInfo>
                                                                    </item>
                                                                </analysisRules>
                                                            </postProcessing>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="b57b5e26-8297-473e-afb7-8802211695ce" action="if">
                                                            <command>
                                                                <body>$linkType == &quot;Ethernet&quot;</body>
                                                            </command>
                                                            <nestedSteps>
                                                                <item guid="0d46941b-b09e-416a-9526-5a074c99bade" action="then">
                                                                    <nestedSteps>
                                                                        <item guid="69273c01-1ee3-4640-b82a-fd467d9841e4" action="eval">
                                                                            <command>
                                                                                <body>lappend ethernetEndpoints $res</body>
                                                                            </command>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                                        </item>
                                                                    </nestedSteps>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                                </item>
                                                                <item guid="53f2b33a-5784-45ac-a1a7-f45b76ce9fb4" action="elseif">
                                                                    <command>
                                                                        <body>$linkType == &quot;10G Ethernet&quot;</body>
                                                                    </command>
                                                                    <nestedSteps>
                                                                        <item guid="fedffdce-75ab-4688-849d-2fa69d7b0784" action="eval">
                                                                            <command>
                                                                                <body>lappend tenGEthernetEndpoints $res</body>
                                                                            </command>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                                        </item>
                                                                    </nestedSteps>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                                </item>
                                                                <item guid="1d2ea1c6-3979-4773-bddd-8d6a0edbb17e" action="elseif">
                                                                    <command>
                                                                        <body>$linkType == &quot;HSE&quot;</body>
                                                                    </command>
                                                                    <nestedSteps>
                                                                        <item guid="a10673e1-d244-401d-abb8-a72e4730f374" action="eval">
                                                                            <command>
                                                                                <body>lappend hseEthernetEndpoints $res</body>
                                                                            </command>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                                        </item>
                                                                    </nestedSteps>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                                </item>
                                                            </nestedSteps>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                </item>
                                                <item guid="aba42aed-734a-4245-b899-cc6c3163ded3" action="if">
                                                    <command>
                                                        <body>[llength $ethernetEndpoints]</body>
                                                    </command>
                                                    <nestedSteps>
                                                        <item guid="b2dfb993-2f2f-44f5-960c-f8fc996e2189" action="then">
                                                            <nestedSteps>
                                                                <item guid="d70f0659-a0cf-468e-a81e-da11ab583841" action="command" session="$session">
                                                                    <command>
                                                                        <body>::TestShellAPI::ConnectRoutesInReservation $reservationId [list $ethernetEndpoints] bi</body>
                                                                    </command>
                                                                    <postProcessing>
                                                                        <analysisRules>
                                                                            <item>
                                                                                <extractorInfo extractorType="contains">
                                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.ExtractorContainsPropertyGroup">
                                                                                        <searchString>SUCCESS</searchString>
                                                                                    </extractorProperties>
                                                                                </extractorInfo>
                                                                                <processorInfo ruleType="assert">
                                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                                                        <expression>$value == 1</expression>
                                                                                        <actionsWhenTrue>
                                                                                            <item actionId="DeclareExecutionIssue">
                                                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="Information">
                                                                                                    <message>Successfully connected the unshared 1g routes in reservation</message>
                                                                                                </actionProperties>
                                                                                            </item>
                                                                                        </actionsWhenTrue>
                                                                                        <actionsWhenFalse>
                                                                                            <item actionId="DeclareExecutionIssue">
                                                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                                                                    <message>Failed to connect the unshared 1g routes in reservation</message>
                                                                                                </actionProperties>
                                                                                            </item>
                                                                                            <item actionId="FailTest">
                                                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                            </item>
                                                                                            <item actionId="ExitProcedure">
                                                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExitProcedurePropertyGroup">
                                                                                                    <return>0</return>
                                                                                                </actionProperties>
                                                                                            </item>
                                                                                        </actionsWhenFalse>
                                                                                    </ruleProperties>
                                                                                </processorInfo>
                                                                            </item>
                                                                        </analysisRules>
                                                                    </postProcessing>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                            </nestedSteps>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                </item>
                                                <item guid="bdf608db-fca6-4ffb-a65b-fe83c9d3776a" action="if">
                                                    <command>
                                                        <body>[llength $tenGEthernetEndpoints]</body>
                                                    </command>
                                                    <nestedSteps>
                                                        <item guid="6c48cf6d-4ba6-4e05-95ef-4a6568dc179c" action="then">
                                                            <nestedSteps>
                                                                <item guid="052b07ae-1ee8-40ff-a6ad-c461040e698c" action="command" session="$session">
                                                                    <command>
                                                                        <body>::TestShellAPI::ConnectRoutesInReservation $reservationId [list $tenGEthernetEndpoints] bi</body>
                                                                    </command>
                                                                    <postProcessing>
                                                                        <analysisRules>
                                                                            <item>
                                                                                <extractorInfo extractorType="contains">
                                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.ExtractorContainsPropertyGroup">
                                                                                        <searchString>SUCCESS</searchString>
                                                                                    </extractorProperties>
                                                                                </extractorInfo>
                                                                                <processorInfo ruleType="assert">
                                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                                                        <expression>$value == 1</expression>
                                                                                        <actionsWhenTrue>
                                                                                            <item actionId="DeclareExecutionIssue">
                                                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="Information">
                                                                                                    <message>Successfully connected the unshared 10g routes in reservation</message>
                                                                                                </actionProperties>
                                                                                            </item>
                                                                                        </actionsWhenTrue>
                                                                                        <actionsWhenFalse>
                                                                                            <item actionId="DeclareExecutionIssue">
                                                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                                                                    <message>Failed to connect the unshared 10g routes in reservation</message>
                                                                                                </actionProperties>
                                                                                            </item>
                                                                                            <item actionId="FailTest">
                                                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                            </item>
                                                                                            <item actionId="ExitProcedure">
                                                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExitProcedurePropertyGroup">
                                                                                                    <return>0</return>
                                                                                                </actionProperties>
                                                                                            </item>
                                                                                        </actionsWhenFalse>
                                                                                    </ruleProperties>
                                                                                </processorInfo>
                                                                            </item>
                                                                        </analysisRules>
                                                                    </postProcessing>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                            </nestedSteps>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                </item>
                                                <item guid="a2354250-e447-41c7-9bfc-f8c7935c1a78" action="if">
                                                    <command>
                                                        <body>[llength $hseEthernetEndpoints]</body>
                                                    </command>
                                                    <nestedSteps>
                                                        <item guid="7d406c15-b676-4867-9c4c-6602cbeaa5f3" action="then">
                                                            <nestedSteps>
                                                                <item guid="e43dc634-dd42-4262-8a67-1fde407a90d5" action="command" session="$session">
                                                                    <command>
                                                                        <body>::TestShellAPI::ConnectRoutesInReservation $reservationId [list $hseEthernetEndpoints] bi</body>
                                                                    </command>
                                                                    <postProcessing>
                                                                        <analysisRules>
                                                                            <item>
                                                                                <extractorInfo extractorType="contains">
                                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.ExtractorContainsPropertyGroup">
                                                                                        <searchString>SUCCESS</searchString>
                                                                                    </extractorProperties>
                                                                                </extractorInfo>
                                                                                <processorInfo ruleType="assert">
                                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                                                        <expression>$value == 1</expression>
                                                                                        <actionsWhenTrue>
                                                                                            <item actionId="DeclareExecutionIssue">
                                                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="Information">
                                                                                                    <message>Successfully connected the unshared hse routes in reservation</message>
                                                                                                </actionProperties>
                                                                                            </item>
                                                                                        </actionsWhenTrue>
                                                                                        <actionsWhenFalse>
                                                                                            <item actionId="DeclareExecutionIssue">
                                                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                                                                    <message>Failed to connect the unshared hse routes in reservation</message>
                                                                                                </actionProperties>
                                                                                            </item>
                                                                                            <item actionId="FailTest">
                                                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                            </item>
                                                                                            <item actionId="ExitProcedure">
                                                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExitProcedurePropertyGroup">
                                                                                                    <return>0</return>
                                                                                                </actionProperties>
                                                                                            </item>
                                                                                        </actionsWhenFalse>
                                                                                    </ruleProperties>
                                                                                </processorInfo>
                                                                            </item>
                                                                        </analysisRules>
                                                                    </postProcessing>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                            </nestedSteps>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="45fc0461-b6b3-472c-8441-a2274ad6fe07" action="return">
                                    <command>
                                        <body>1</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="65c5fc7e-ec53-4bdc-ad3e-564b4a273367" action="else">
                            <nestedSteps>
                                <item guid="a7664b5e-9eb0-4957-9ee8-ef9a04592524" action="eval">
                                    <command>
                                        <body>puts error</body>
                                    </command>
                                    <postProcessing>
                                        <analysisRules>
                                            <item>
                                                <extractorInfo extractorType="none">
                                                    <extractorProperties type="com.fnfr.svt.documents.EmptyExtractorPropertyGroup"/>
                                                </extractorInfo>
                                                <processorInfo ruleType="message">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.MessageProcessorPropertyGroup">
                                                        <message> Reservation wasn&apos;t started</message>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                        </analysisRules>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="58d7da3e-ca0e-4557-a26e-03b94c0a0569" action="return">
                                    <command>
                                        <body>0</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
            </steps>
            <multilineDescription>Activates an existing reservation. The topology was created in the create_reservation command and a reservation id must have been returned. The function returns 1 for success and 0 for failure. The command will not end the reservation in case of failure.</multilineDescription>
            <arguments>
                <item name="reservationId">
                    <description>The id of the reservation returned by the create_reservation command</description>
                </item>
            </arguments>
        </item>
        <item name="connect_route" isPublic="true">
            <steps>
                <item guid="3596c034-42b7-49e2-9a7e-02010d55f970" action="comment">
                    <command>
                        <body>The list of endpoints is needed to connect a route</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="75bb3c53-c346-4ec9-a9da-571410fd02c2" action="eval">
                    <command>
                        <body>set topolgy [param ResourceReservation/topologyPath]</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="a1c9c56d-250d-4a60-908f-799221a370f7" action="command" session="$session">
                    <command>
                        <body>::TestShellAPI::GetTopologyDetails $topolgy</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>//Route[1]/@Source</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>source</storageLocation>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>//Route[1]/@Target</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>target</storageLocation>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="02ed477d-3e31-4a0d-a311-896afb5229dd" action="eval">
                    <command>
                        <body>puts $source</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="abaa6793-1c34-4dca-8c70-55f64b335a11" action="eval">
                    <command>
                        <body>puts $target</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="3d07acd8-1ee7-4ff0-a539-34dcacd22c7c" action="command" session="$session">
                    <command>
                        <body>::TestShellAPI::ConnectRoutesInReservation $reservationId [list &quot;$source $target&quot;] bi</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="contains">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.ExtractorContainsPropertyGroup">
                                        <searchString>SUCCESS</searchString>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="assert">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                        <expression>$value == 1</expression>
                                        <actionsWhenTrue>
                                            <item actionId="DeclareExecutionIssue">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="Information">
                                                    <message>Successfully connected route segment $source --- $target</message>
                                                </actionProperties>
                                            </item>
                                        </actionsWhenTrue>
                                        <actionsWhenFalse>
                                            <item actionId="DeclareExecutionIssue">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                    <message>Fail to connect the route segment $source --- $target</message>
                                                </actionProperties>
                                            </item>
                                            <item actionId="ExitProcedure">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExitProcedurePropertyGroup">
                                                    <return>0</return>
                                                </actionProperties>
                                            </item>
                                            <item actionId="FailTest">
                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            </item>
                                        </actionsWhenFalse>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="c00230e7-8d85-4771-a6e7-80526178c7f4" action="return">
                    <command>
                        <body>1</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <multilineDescription>The function returns 0 for failure or 1 for success. </multilineDescription>
            <arguments>
                <item name="reservationId">
                    <description>The id of the reservation returned by the create_reservation command</description>
                    <isMandatory>true</isMandatory>
                </item>
            </arguments>
        </item>
        <item name="connect_route_old" isPublic="true">
            <steps>
                <item guid="64773f51-5516-4bf3-a188-3542514766d8" action="comment">
                    <command>
                        <body>The list of endpoints is needed to connect a route</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="f2bf20a2-d846-440e-a5c2-a07b452c97dc" action="command" session="$session">
                    <command>
                        <body>::TestShellAPI::GetFolderContent Routers 0</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="contains">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.ExtractorContainsPropertyGroup">
                                        <searchString>SUCCESS</searchString>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="assert">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                        <expression>$value == 1</expression>
                                        <actionsWhenFalse>
                                            <item actionId="DeclareExecutionIssue">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                    <message>Could not extract &apos;Routers&apos; folder content</message>
                                                </actionProperties>
                                            </item>
                                            <item actionId="FailTest">
                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            </item>
                                            <item actionId="ExitProcedure">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExitProcedurePropertyGroup">
                                                    <return>0</return>
                                                </actionProperties>
                                            </item>
                                        </actionsWhenFalse>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="regex">
                                    <extractorProperties type="com.fnfr.svt.mapping.regex.extractors.RegexExtractorPropertyGroup" useLineMode="true">
                                        <regex>^\\s+\\&lt;Content Name=&quot;(\\w+)&quot; Type=&quot;Resource&quot;</regex>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>juniperRouters</storageLocation>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="5171f835-5758-48a4-af1d-a2e77936b711" action="call">
                    <command>
                        <body>parse_routes -routes $routes -juniperRouters $juniperRouters</body>
                    </command>
                    <postProcessing>
                        <storeResponseAt>parseRoutes</storeResponseAt>
                        <storeResponseText>true</storeResponseText>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="ae2459cc-ab2f-41a6-b970-d2b925a3a2b8" action="if">
                    <command>
                        <body>$parseRoutes != 0</body>
                    </command>
                    <nestedSteps>
                        <item guid="fefff5a0-5f67-42ad-91fa-582c387cbeaa" action="then">
                            <nestedSteps>
                                <item guid="b28fda24-c174-4dd1-996f-d533f8d51905" action="eval">
                                    <command>
                                        <body>set newRoutes [lindex $parseRoutes 2]</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="832db35b-cef8-4dad-a95a-7d9f71f566c5" action="else">
                            <nestedSteps>
                                <item guid="e9c70df1-f1d6-44d9-a26f-6cafbdf93c46" action="return">
                                    <command>
                                        <body>0</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="76b573fd-f08d-48de-a6f2-1e0d1b4da50c" action="eval">
                    <command>
                        <body>set routeIndex 0</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="81326743-a0e2-45ac-a50a-abf61ef7688f" action="foreach">
                    <command>
                        <body>route $newRoutes</body>
                    </command>
                    <nestedSteps>
                        <item guid="f2f3ad22-5151-4ffb-9890-df3e8aed581d" action="eval">
                            <command>
                                <body>incr routeIndex</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="0d8004ba-297c-446a-8fe0-af8d66b96b02" action="eval">
                            <command>
                                <body>set source [list [lindex $route 0]]</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="849c7947-451b-4f70-976c-4e6bfa3519a2" action="eval">
                            <command>
                                <body>set target [list [lindex $route 1]]</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="76eef463-1a61-477b-a2c7-f27213eb4dba" action="command" session="$session">
                            <command>
                                <body>::TestShellAPI::ConnectRoutesInReservation $reservationId [list &quot;$source $target&quot;] bi</body>
                            </command>
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="contains">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.ExtractorContainsPropertyGroup">
                                                <searchString>SUCCESS</searchString>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="assert">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                <expression>$value == 1</expression>
                                                <actionsWhenTrue>
                                                    <item actionId="DeclareExecutionIssue">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="Information">
                                                            <message>Successfully connected route $route</message>
                                                        </actionProperties>
                                                    </item>
                                                </actionsWhenTrue>
                                                <actionsWhenFalse>
                                                    <item actionId="DeclareExecutionIssue">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                            <message>Fail to connect the route $route</message>
                                                        </actionProperties>
                                                    </item>
                                                    <item actionId="ExitProcedure">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExitProcedurePropertyGroup">
                                                            <return>0</return>
                                                        </actionProperties>
                                                    </item>
                                                    <item actionId="FailTest">
                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    </item>
                                                </actionsWhenFalse>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="11253e5f-7402-46c1-ae66-b1f998fe6b50" action="return">
                    <command>
                        <body>1</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <multilineDescription>The function returns 0 for failure or 1 for success. </multilineDescription>
            <arguments>
                <item name="reservationId">
                    <description>The id of the reservation returned by the create_reservation command</description>
                    <isMandatory>true</isMandatory>
                </item>
                <item name="routes">
                    <description>Route to be connected (space separated values)
E.g. &quot;{TG/IXIA/XM12_02:11/15 Ciena_3930-11:9} {Ciena_3930-11:11 PE12:ge-1/3/1}&quot;</description>
                    <isMandatory>true</isMandatory>
                </item>
            </arguments>
        </item>
        <item name="create_reservation" isPublic="true">
            <steps>
                <item guid="63b96e10-b7d3-4ddd-991a-19577895c0da" action="command" session="$session">
                    <command>
                        <body>::TestShellAPI::GetFolderContent Routers 0</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="contains">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.ExtractorContainsPropertyGroup">
                                        <searchString>SUCCESS</searchString>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="assert">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                        <expression>$value == 1</expression>
                                        <actionsWhenFalse>
                                            <item actionId="DeclareExecutionIssue">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                    <message>Could not extract &apos;Routers&apos; folder content</message>
                                                </actionProperties>
                                            </item>
                                            <item actionId="FailTest">
                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            </item>
                                            <item actionId="ExitProcedure">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExitProcedurePropertyGroup">
                                                    <return>0</return>
                                                </actionProperties>
                                            </item>
                                        </actionsWhenFalse>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="regex">
                                    <extractorProperties type="com.fnfr.svt.mapping.regex.extractors.RegexExtractorPropertyGroup" useLineMode="true">
                                        <regex>^\\s+\\&lt;Content Name=&quot;(\\w+)&quot; Type=&quot;Resource&quot;</regex>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>juniperRouters</storageLocation>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="ab73f62d-8b6c-418a-9911-0e52621b357e" action="comment">
                    <command>
                        <body>Parsing each resource from the routes input. A certain format must be met (see the routes parameter description)</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="08c74be0-72e3-444b-bb70-2cff04bf2dc9" action="call">
                    <command>
                        <body>parse_routes -routes $routes -juniperRouters $juniperRouters</body>
                    </command>
                    <postProcessing>
                        <storeResponseAt>parseRoutes</storeResponseAt>
                        <storeResponseText>true</storeResponseText>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="793ba791-bf1c-4c7d-a3ee-a9b51e8b5127" action="if">
                    <command>
                        <body>$parseRoutes != 0</body>
                    </command>
                    <nestedSteps>
                        <item guid="88d2bf5e-79b1-4d17-9ea5-b1f6aa7aa6ed" action="then">
                            <nestedSteps>
                                <item guid="3ccbebde-1d10-4b1b-9773-9cea4310f293" action="eval">
                                    <command>
                                        <body>set parentList [lindex $parseRoutes 0]</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="7de0481e-3e11-46ed-af8a-98406b247d35" action="eval">
                                    <command>
                                        <body>set endpoints [lindex $parseRoutes 1]</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="28a721d8-b22b-499c-b1e8-0566a186306f" action="eval">
                                    <command>
                                        <body>set newRoutes [lindex $parseRoutes 2]</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="3ef8dfd2-4130-4536-b95b-cec206d0f764" action="else">
                            <nestedSteps>
                                <item guid="82dad86f-f51a-4458-89a4-9f8e3949b7a4" action="return">
                                    <command>
                                        <body>0</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="b58f2e5b-d26e-488e-a89e-9167ffe5bfac" action="comment">
                    <command>
                        <body>Reading the Routers folder for populating </body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="97858802-46bd-4fef-8318-59294eeac21d" action="eval">
                    <command>
                        <body>set i 0</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="71d6b8a8-4886-485c-ae5b-34c4204f6440" action="while">
                    <command>
                        <body>$i &lt; 3</body>
                    </command>
                    <nestedSteps>
                        <item guid="a8776906-2628-4c06-ac52-8c0cfad16e98" action="command" session="$session">
                            <command>
                                <body>::TestShellAPI::CreateImmediateReservation $reservationName $reservationUser $reservationDuration 0 0 0</body>
                            </command>
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="contains">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.ExtractorContainsPropertyGroup">
                                                <searchString>SUCCESS</searchString>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="assert">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                <expression>$value == 1</expression>
                                                <actionsWhenTrue>
                                                    <item actionId="Eval">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                            <statement>set resFlag 1</statement>
                                                        </actionProperties>
                                                    </item>
                                                </actionsWhenTrue>
                                                <actionsWhenFalse>
                                                    <item actionId="Eval">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                            <statement>set resFlag 0</statement>
                                                        </actionProperties>
                                                    </item>
                                                </actionsWhenFalse>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                    <item>
                                        <extractorInfo extractorType="regex">
                                            <extractorProperties type="com.fnfr.svt.mapping.regex.extractors.RegexExtractorPropertyGroup" useLineMode="true">
                                                <regex>^\\s+\\&lt;Reservation Id=&quot;(\\S+)&quot; Name=</regex>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="store">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                <storageLocation>reservationId</storageLocation>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="8812c3e1-1076-4c7e-a901-3a6450e8ee83" action="if">
                            <command>
                                <body>$resFlag == 1</body>
                            </command>
                            <nestedSteps>
                                <item guid="2cc1c70f-829f-4739-9de3-d5612d58b640" action="then">
                                    <nestedSteps>
                                        <item guid="b4247479-6748-4660-b25f-3863eca3a8a5" action="break">
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="e0a0f8c4-d374-4650-a17b-a24b74453854" action="eval">
                            <command>
                                <body>incr i</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="2d0c765c-088f-44be-a681-dc65dfe574f0" action="if">
                    <command>
                        <body>$resFlag == 0</body>
                    </command>
                    <nestedSteps>
                        <item guid="60ef1933-04b6-4d4d-9d66-0c11e48aa706" action="then">
                            <nestedSteps>
                                <item guid="e9991f81-c404-4639-a478-e6fb5d07e6b5" action="comment">
                                    <command>
                                        <body>error</body>
                                    </command>
                                    <postProcessing>
                                        <analysisRules>
                                            <item>
                                                <extractorInfo extractorType="none">
                                                    <extractorProperties type="com.fnfr.svt.documents.EmptyExtractorPropertyGroup"/>
                                                </extractorInfo>
                                                <processorInfo ruleType="message">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.MessageProcessorPropertyGroup">
                                                        <message> Failed to create reservation</message>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                        </analysisRules>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="6d7c9071-8b06-4fd6-8384-a506c6801fd4" action="exit">
                                    <command>
                                        <body>0</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="f5e307c2-96b6-4d1d-a4a9-033018826cb4" action="comment">
                    <command>
                        <body>Once the reservation is added the parent resources have to be added e.g. Juniper_MX960_PE16 router</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="f18e73de-193b-4232-9de4-ce89f0d2d329" action="command" session="$session">
                    <command>
                        <body>::TestShellAPI::AddResourcesToReservation $reservationId &quot;$parentList&quot;</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="contains">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.ExtractorContainsPropertyGroup">
                                        <searchString>SUCCESS</searchString>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="assert">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                        <expression>$value == 1</expression>
                                        <actionsWhenTrue>
                                            <item actionId="DeclareExecutionIssue">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="Information">
                                                    <message>Successfully added resources to reservation</message>
                                                </actionProperties>
                                            </item>
                                            <item actionId="Eval">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                    <statement>set returned 1</statement>
                                                </actionProperties>
                                            </item>
                                        </actionsWhenTrue>
                                        <actionsWhenFalse>
                                            <item actionId="DeclareExecutionIssue">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                    <message>Fail to add resources to reservation</message>
                                                </actionProperties>
                                            </item>
                                            <item actionId="Eval">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                    <statement>set returned 0</statement>
                                                </actionProperties>
                                            </item>
                                            <item actionId="FailTest">
                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            </item>
                                        </actionsWhenFalse>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="d6239869-dee4-41d2-9ace-226a3373c699" action="if">
                    <command>
                        <body>!$returned</body>
                    </command>
                    <nestedSteps>
                        <item guid="bb4f5a12-9f81-41d9-8541-c11022fe9600" action="then">
                            <nestedSteps>
                                <item guid="7b115999-2201-4fd1-b20b-da0e54016dac" action="command" session="$session">
                                    <command>
                                        <body>::TestShellAPI::EndReservation $reservationId 1</body>
                                    </command>
                                    <postProcessing>
                                        <analysisRules>
                                            <item>
                                                <extractorInfo extractorType="contains">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.ExtractorContainsPropertyGroup">
                                                        <searchString>SUCCESS</searchString>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="assert">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                        <expression>$value == 1</expression>
                                                        <actionsWhenTrue>
                                                            <item actionId="DeclareExecutionIssue">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="Information">
                                                                    <message>Successfully ended reservation</message>
                                                                </actionProperties>
                                                            </item>
                                                        </actionsWhenTrue>
                                                        <actionsWhenFalse>
                                                            <item actionId="DeclareExecutionIssue">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                                    <message>Fail to end reservation</message>
                                                                </actionProperties>
                                                            </item>
                                                        </actionsWhenFalse>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                        </analysisRules>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="d9026fb8-f283-4566-8d8a-019c7b34a5ba" action="return">
                                    <command>
                                        <body>0</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="8b4a5860-5a8a-47b8-9117-0da61fdbdc37" action="eval">
                    <command>
                        <body>set routeIndex 0</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="5df1c9ad-05b0-4b7f-9e03-4ba2b7318c77" action="comment">
                    <command>
                        <body>Each route is added with newly formatted resources</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="8c869179-7c46-4eed-ad85-a5e29d6fe0ba" action="foreach">
                    <command>
                        <body>route $newRoutes</body>
                    </command>
                    <nestedSteps>
                        <item guid="fb7e1a8f-be65-4cb9-9d63-582273088487" action="eval">
                            <command>
                                <body>incr routeIndex</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="b5585dab-73d7-4a9a-98f6-27e07e6dd6f2" action="eval">
                            <command>
                                <body>set source [list [lindex $route 0]]</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="9a995bcf-46b5-4299-a19d-edcab29895f8" action="eval">
                            <command>
                                <body>set target [list [lindex $route 1]]</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="3d127068-4859-4f50-abf2-9bf1539805f3" action="if">
                            <command>
                                <body>[lindex $route end] == &quot;shared&quot;</body>
                            </command>
                            <nestedSteps>
                                <item guid="641ff678-eb6d-4dd1-bae7-28469bbf354d" action="then">
                                    <nestedSteps>
                                        <item guid="6a96551d-6b38-4cd1-b785-6863d26cd4e9" action="eval">
                                            <command>
                                                <body>set shared 1</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="077be8a7-b392-41a9-bd4a-57f326682ea6" action="else">
                                    <nestedSteps>
                                        <item guid="d5e55efb-d48c-4e3c-a078-2a1c3eb5b136" action="eval">
                                            <command>
                                                <body>set shared 0</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="08ba54ca-f181-4cb4-8b7f-cfe033bcfed6" action="command" session="$session">
                            <command>
                                <body>::TestShellAPI::AddRoutesToReservation $reservationId &quot;$source&quot; &quot;$target&quot; bi 6 &quot;&quot; $shared</body>
                            </command>
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="contains">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.ExtractorContainsPropertyGroup">
                                                <searchString>SUCCESS</searchString>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="assert">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                <expression>$value == 1</expression>
                                                <actionsWhenTrue>
                                                    <item actionId="DeclareExecutionIssue">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="Information">
                                                            <message>Successfully added route $routeIndex to reservation</message>
                                                        </actionProperties>
                                                    </item>
                                                    <item actionId="Eval">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                            <statement>set returned 1</statement>
                                                        </actionProperties>
                                                    </item>
                                                </actionsWhenTrue>
                                                <actionsWhenFalse>
                                                    <item actionId="DeclareExecutionIssue">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                            <message>Fail to add the route $route to the reservation</message>
                                                        </actionProperties>
                                                    </item>
                                                    <item actionId="Eval">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                            <statement>set returned 0</statement>
                                                        </actionProperties>
                                                    </item>
                                                    <item actionId="FailTest">
                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    </item>
                                                </actionsWhenFalse>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="d0308f35-00bd-4148-ab0b-e242c5b29558" action="if">
                            <command>
                                <body>!$returned</body>
                            </command>
                            <nestedSteps>
                                <item guid="c3e1f260-faf8-4d9a-8585-254b84513ae8" action="then">
                                    <nestedSteps>
                                        <item guid="f70e6372-1f08-4ba3-8089-885edb4c1758" action="command" session="$session">
                                            <command>
                                                <body>::TestShellAPI::EndReservation $reservationId 1</body>
                                            </command>
                                            <postProcessing>
                                                <analysisRules>
                                                    <item>
                                                        <extractorInfo extractorType="contains">
                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.ExtractorContainsPropertyGroup">
                                                                <searchString>SUCCESS</searchString>
                                                            </extractorProperties>
                                                        </extractorInfo>
                                                        <processorInfo ruleType="assert">
                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                                <expression>$value == 1</expression>
                                                                <actionsWhenTrue>
                                                                    <item actionId="DeclareExecutionIssue">
                                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="Information">
                                                                            <message>Successfully ended reservation</message>
                                                                        </actionProperties>
                                                                    </item>
                                                                </actionsWhenTrue>
                                                                <actionsWhenFalse>
                                                                    <item actionId="DeclareExecutionIssue">
                                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                                            <message>Fail to end reservation</message>
                                                                        </actionProperties>
                                                                    </item>
                                                                </actionsWhenFalse>
                                                            </ruleProperties>
                                                        </processorInfo>
                                                    </item>
                                                </analysisRules>
                                            </postProcessing>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="ddf68d3e-981f-43f5-83cc-3a4798f2014c" action="return">
                                            <command>
                                                <body>0</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="7ce1dd2c-1ee2-468e-9daf-b4c108dbd068" action="eval">
                    <command>
                        <body>puts $reservationId</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="none">
                                    <extractorProperties type="com.fnfr.svt.documents.EmptyExtractorPropertyGroup"/>
                                </extractorInfo>
                                <processorInfo ruleType="message">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.MessageProcessorPropertyGroup" severity="Information">
                                        <message> Reservation id is $reservationId</message>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="573f8f14-e478-4a50-9dac-2bb187684c1b" action="return">
                    <command>
                        <body>$reservationId</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <multilineDescription>Creates an immediate reservation, adds resources and creates the routes (similar to adding topology). Returns 0 for failure and reservation id for success. (reservation id example: &apos;91d65fec-aa8e-46a6-a754-ec7ff29fbd4e&apos;)
This function will not activate the resources (create the L1 mappings) until the activate_reservation function is called.</multilineDescription>
            <arguments>
                <item name="reservationName">
                    <description>The name/description of the reservation. Note that multiple reservations with the same name can be added in RM. The difference is the reservation id.</description>
                    <isMandatory>true</isMandatory>
                </item>
                <item name="reservationDuration">
                    <description>Duration in minutes of the reservation</description>
                    <defaultValue>120</defaultValue>
                    <isMandatory>true</isMandatory>
                </item>
                <item name="reservationUser">
                    <description>The user who is making the reservation. This has to be provisioned in the QS Resource Manager DB prior to running the script. Should be the same username used at the logon.</description>
                    <isMandatory>true</isMandatory>
                </item>
                <item name="routes">
                    <description>This is where you tell the RM how and what to connect in your topology.
In the example below i want to create a topology with 4 routes. Each route (or endpoint) has a source and a target resource and in the RM client are the connectors between the devices.
Each route is delimited by {} and has 2 resources separated by space and another value for the sharing (specify the word &quot;shared&quot; for a shared route). If no sharing value is specified then the route will be considered not shared. The routes argument value should be included in double quotes.
routes input examples:
Example 1. &quot;{TG/IXIA/XM12_02:11/15 Ciena_3930-11:9} {Ciena_3930-11:11 PE12:ge-1/3/1 shared} {Ciena_3960-11:11 PE11:xe-4/0/0} {Ciena_3960-11:7 TG/IXIA/XM12_02:11/16}&quot;
Example 2 with dual media ports &quot;{TG/Spirent/STC_01:4/1/copper Ciena_3960-14:1/copper}&quot;</description>
                    <isMandatory>true</isMandatory>
                </item>
            </arguments>
        </item>
        <item name="create_reservation_with_topology" isPublic="true">
            <steps>
                <item guid="9a776640-efd4-436c-bddd-2edeb9616164" action="eval">
                    <command>
                        <body>set i 0</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="f467cbca-b87c-43e0-b3e5-7fd6711239bc" action="while">
                    <command>
                        <body>$i &lt; 3</body>
                    </command>
                    <nestedSteps>
                        <item guid="f6c7ab45-17d0-4e84-880a-71679a4cda6c" action="command" session="$session">
                            <command>
                                <body>::TestShellAPI::CreateImmediateReservation $reservationName $reservationUser $reservationDuration 0 0 0</body>
                            </command>
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="contains">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.ExtractorContainsPropertyGroup">
                                                <searchString>SUCCESS</searchString>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="assert">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                <expression>$value == 1</expression>
                                                <actionsWhenTrue>
                                                    <item actionId="DeclareExecutionIssue">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="Information">
                                                            <message>Successfully created immediate reservation</message>
                                                        </actionProperties>
                                                    </item>
                                                    <item actionId="Eval">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                            <statement>set resFlag 1</statement>
                                                        </actionProperties>
                                                    </item>
                                                </actionsWhenTrue>
                                                <actionsWhenFalse>
                                                    <item actionId="Eval">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                            <statement>set resFlag 0</statement>
                                                        </actionProperties>
                                                    </item>
                                                </actionsWhenFalse>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                    <item>
                                        <extractorInfo extractorType="regex">
                                            <extractorProperties type="com.fnfr.svt.mapping.regex.extractors.RegexExtractorPropertyGroup" useLineMode="true">
                                                <regex>^\\s+\\&lt;Reservation Id=&quot;(\\S+)&quot; Name=</regex>
                                                <declareNoMatchIssue>false</declareNoMatchIssue>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="store">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                <storageLocation>reservationId</storageLocation>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="febe9197-d6a6-4c24-8c8b-33a32113d078" action="if">
                            <command>
                                <body>$resFlag == 1</body>
                            </command>
                            <nestedSteps>
                                <item guid="afdcd133-dccc-4a5f-b07a-bdd165097dc8" action="then">
                                    <nestedSteps>
                                        <item guid="6706f956-da3f-4751-8d51-ab996e27e97b" action="break">
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="46a815c8-314c-439c-bd82-da4c4d9dffdf" action="eval">
                            <command>
                                <body>incr i</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="c24fc598-91cc-4dff-a42c-1a39f66da3bb" action="if">
                    <command>
                        <body>$resFlag == 0</body>
                    </command>
                    <nestedSteps>
                        <item guid="8363c8a8-dbc5-410f-928d-ed62898ea618" action="then">
                            <nestedSteps>
                                <item guid="c12625ee-c56d-4d84-9a0e-a8ca554c3ef0" action="comment">
                                    <command>
                                        <body>error</body>
                                    </command>
                                    <postProcessing>
                                        <analysisRules>
                                            <item>
                                                <extractorInfo extractorType="none">
                                                    <extractorProperties type="com.fnfr.svt.documents.EmptyExtractorPropertyGroup"/>
                                                </extractorInfo>
                                                <processorInfo ruleType="message">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.MessageProcessorPropertyGroup">
                                                        <message> Failed to create reservation</message>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                        </analysisRules>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="76a984e4-8b41-42cf-be12-a268d323a7a1" action="exit">
                                    <command>
                                        <body>0</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="8ed23e7b-30ef-40d7-add3-cd8a87a63160" action="command" session="$session">
                    <command>
                        <body>::TestShellAPI::AddTopologyToReservation $reservationId &quot;$topologyFullPath&quot;</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="contains">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.ExtractorContainsPropertyGroup">
                                        <searchString>SUCCESS</searchString>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="assert">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                        <expression>$value == 1</expression>
                                        <actionsWhenFalse>
                                            <item actionId="DeclareExecutionIssue">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                    <message>Fail to add the topology $topologyFullPath to reservation</message>
                                                </actionProperties>
                                            </item>
                                            <item actionId="FailTest">
                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            </item>
                                            <item actionId="Eval">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                    <statement>set return 0</statement>
                                                </actionProperties>
                                            </item>
                                        </actionsWhenFalse>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="contains">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.ExtractorContainsPropertyGroup">
                                        <searchString>Conflict ResourceName=</searchString>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="assert">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                        <expression>$value == 1</expression>
                                        <actionsWhenTrue>
                                            <item actionId="DeclareExecutionIssue">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                    <message> Conflicts were detected while adding the topology $topologyFullPath to reservation</message>
                                                </actionProperties>
                                            </item>
                                            <item actionId="FailTest">
                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            </item>
                                            <item actionId="Eval">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                    <statement>set return 0</statement>
                                                </actionProperties>
                                            </item>
                                        </actionsWhenTrue>
                                        <actionsWhenFalse>
                                            <item actionId="DeclareExecutionIssue">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="Information">
                                                    <message>Successfully added topology $topologyFullPath to reservation $reservationId</message>
                                                </actionProperties>
                                            </item>
                                            <item actionId="Eval">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                    <statement>set return 1</statement>
                                                </actionProperties>
                                            </item>
                                        </actionsWhenFalse>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="1e0a9951-2ed6-4ce5-b84e-70c535ece06b" action="if">
                    <command>
                        <body>$return == 0</body>
                    </command>
                    <nestedSteps>
                        <item guid="72e37cfe-3347-4f70-ba79-2a1954bcb8f8" action="then">
                            <nestedSteps>
                                <item guid="f8fdf78c-6613-4e90-b7e6-e1fb2e2b8a09" action="command" session="$session">
                                    <command>
                                        <body>::TestShellAPI::EndReservation $reservationId 1</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="ff79c7b7-195f-4925-8b1e-f4e2782d00ea" action="return">
                                    <command>
                                        <body>0</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="1054c70c-171e-4a58-a61d-4e7875e5061c" action="else">
                            <nestedSteps>
                                <item guid="fc72ebb8-2e3e-4cc6-a9e4-69e9cde87597" action="return">
                                    <command>
                                        <body>$reservationId</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
            </steps>
            <multilineDescription>Creates an immediate reservation, adds resources and creates the routes (similar to adding topology). Returns 0 for failure and reservation id for success. (reservation id example: &apos;91d65fec-aa8e-46a6-a754-ec7ff29fbd4e&apos;)
This function will not activate the resources (create the L1 mappings) until the activate_reservation function is called.</multilineDescription>
            <arguments>
                <item name="reservationName">
                    <description>The name/description of the reservation. Note that multiple reservations with the same name can be added in RM. The difference is the reservation id.</description>
                    <isMandatory>true</isMandatory>
                </item>
                <item name="reservationDuration">
                    <description>Duration in minutes of the reservation</description>
                    <defaultValue>120</defaultValue>
                    <isMandatory>true</isMandatory>
                </item>
                <item name="reservationUser">
                    <description>The user who is making the reservation. This has to be provisioned in the QS Resource Manager DB prior to running the script. Should be the same username used at the logon.</description>
                    <isMandatory>true</isMandatory>
                </item>
                <item name="topologyFullPath">
                    <description>The full path of the topology which you want to load. This has been previously built in the RM GUI.</description>
                    <isMandatory>true</isMandatory>
                </item>
            </arguments>
        </item>
        <item name="database_login" isPublic="true">
            <steps>
                <item guid="be579f2f-94e7-4350-9007-4f0166d17c2d" action="comment">
                    <command>
                        <body>Login to the QualiSystems Database using API commands.</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="8fe24272-e897-45d2-9bc9-c47a22521c41" action="command" session="$session">
                    <command>
                        <body>set argv 5</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="ca3ea64c-c79d-49ff-828a-3acf5bfd15b9" action="command" session="$session" normalOffset="19.302" estimatedStepExecutionTime="0.169">
                    <command>
                        <body>package require TestShellAPI</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="9564c71a-5ac4-400d-bc1a-7ee4ed235fc1" action="command" session="$session" normalOffset="57.153" estimatedStepExecutionTime="0.07">
                    <command>
                        <body masked="true">7GNtaoYlwlTwsmPP+DRZkFVXvWNOMaFIDbmOodmxvxZjHxtf+5ZC1etS6VddcuRQ</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="contains">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.ExtractorContainsPropertyGroup">
                                        <searchString>SUCCESS</searchString>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="assert">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                        <expression>$value == 1</expression>
                                        <actionsWhenTrue>
                                            <item actionId="DeclareExecutionIssue">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="Information">
                                                    <message>Successfully connected to the RM database</message>
                                                </actionProperties>
                                            </item>
                                            <item actionId="ExitProcedure">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExitProcedurePropertyGroup">
                                                    <return>1</return>
                                                </actionProperties>
                                            </item>
                                        </actionsWhenTrue>
                                        <actionsWhenFalse>
                                            <item actionId="DeclareExecutionIssue">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                    <message>Failed to connect to the RM database</message>
                                                </actionProperties>
                                            </item>
                                            <item actionId="FailTest">
                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            </item>
                                            <item actionId="ExitProcedure">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExitProcedurePropertyGroup">
                                                    <return>0</return>
                                                </actionProperties>
                                            </item>
                                        </actionsWhenFalse>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <multilineDescription>Login to the QualiSystems Database using API commands. These credentials are taken from the global parameter file.</multilineDescription>
            <arguments>
                <item name="user">
                    <description>The user must be present in the RM DB with access to the desired domain</description>
                    <defaultValue>tcluser</defaultValue>
                    <isMandatory>true</isMandatory>
                </item>
                <item name="password">
                    <defaultValue>tcluser</defaultValue>
                    <isMandatory>true</isMandatory>
                </item>
                <item name="domain">
                    <description>Domain where user has access</description>
                    <defaultValue>Global</defaultValue>
                    <isMandatory>true</isMandatory>
                </item>
            </arguments>
        </item>
        <item name="database_logoff" isPublic="true">
            <steps>
                <item guid="58b3f51f-9bf2-4734-bb4e-2b8a997ee4bf" action="command" session="$session">
                    <command>
                        <body>::TestShellAPI::Logoff</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="contains">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.ExtractorContainsPropertyGroup">
                                        <searchString>SUCCESS</searchString>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="assert">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                        <expression>$value == 1</expression>
                                        <actionsWhenTrue>
                                            <item actionId="DeclareExecutionIssue">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="Information">
                                                    <message>Successfully disconnected from the RM database</message>
                                                </actionProperties>
                                            </item>
                                        </actionsWhenTrue>
                                        <actionsWhenFalse>
                                            <item actionId="FailTest">
                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            </item>
                                            <item actionId="DeclareExecutionIssue">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                    <message>{auto_message_false}</message>
                                                </actionProperties>
                                            </item>
                                        </actionsWhenFalse>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
            </steps>
        </item>
        <item name="disconnect_route" isPublic="true">
            <steps>
                <item guid="221e6c71-7df0-4013-aede-15ee612a81cc" action="comment">
                    <command>
                        <body>The list of endpoints is needed to disconnect a route</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="11d8afbe-4b09-4717-99a9-6b240b7823ff" action="eval">
                    <command>
                        <body>set topolgy [param ResourceReservation/topologyPath]</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="b6f4f1c1-745f-45b7-bab7-8f0b082c2e51" action="command" session="$session">
                    <command>
                        <body>::TestShellAPI::GetTopologyDetails $topolgy</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>//Route[1]/@Source</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>source</storageLocation>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>//Route[1]/@Target</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>target</storageLocation>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="d5543b5b-a374-4cec-b6f8-50fe42d57073" action="eval">
                    <command>
                        <body>puts $source</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="5860428f-e8a4-4c92-ba83-d0a378b56e32" action="eval">
                    <command>
                        <body>puts $target</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="2dcee26a-2434-4d1b-bdc9-cbb9f3b8cc7d" action="command" session="$session">
                    <command>
                        <body>::TestShellAPI::DisconnectRoutesInReservation $reservationId &quot;$source $target&quot;</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="contains">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.ExtractorContainsPropertyGroup">
                                        <searchString>SUCCESS</searchString>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="assert">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                        <expression>$value == 1</expression>
                                        <actionsWhenTrue>
                                            <item actionId="DeclareExecutionIssue">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="Information">
                                                    <message>Successfully disconnected route $source --- $target from reservation</message>
                                                </actionProperties>
                                            </item>
                                        </actionsWhenTrue>
                                        <actionsWhenFalse>
                                            <item actionId="DeclareExecutionIssue">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                    <message>Fail to disconnect the route $source --- $target from the reservation</message>
                                                </actionProperties>
                                            </item>
                                            <item actionId="ExitProcedure">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExitProcedurePropertyGroup">
                                                    <return>0</return>
                                                </actionProperties>
                                            </item>
                                            <item actionId="FailTest">
                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            </item>
                                        </actionsWhenFalse>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="0671f676-e204-44c7-80ed-2056384378ec" action="return">
                    <command>
                        <body>1</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <multilineDescription>The function returns 0 for failure or 1 for success. </multilineDescription>
            <arguments>
                <item name="reservationId">
                    <description>The id of the reservation returned by the create_reservation command</description>
                    <isMandatory>true</isMandatory>
                </item>
            </arguments>
        </item>
        <item name="disconnect_route_old" isPublic="true">
            <steps>
                <item guid="311b569d-42a1-4456-ab2c-624f16c55720" action="comment">
                    <command>
                        <body>The list of endpoints is needed to disconnect a route</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="226981a1-a498-4e28-835d-a396f440a4f8" action="command" session="$session">
                    <command>
                        <body>::TestShellAPI::GetFolderContent Routers 0</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="contains">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.ExtractorContainsPropertyGroup">
                                        <searchString>SUCCESS</searchString>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="assert">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                        <expression>$value == 1</expression>
                                        <actionsWhenFalse>
                                            <item actionId="DeclareExecutionIssue">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                    <message>Could not extract &apos;Routers&apos; folder content</message>
                                                </actionProperties>
                                            </item>
                                            <item actionId="FailTest">
                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            </item>
                                            <item actionId="ExitProcedure">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExitProcedurePropertyGroup">
                                                    <return>0</return>
                                                </actionProperties>
                                            </item>
                                        </actionsWhenFalse>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="regex">
                                    <extractorProperties type="com.fnfr.svt.mapping.regex.extractors.RegexExtractorPropertyGroup" useLineMode="true">
                                        <regex>^\\s+\\&lt;Content Name=&quot;(\\w+)&quot; Type=&quot;Resource&quot;</regex>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>juniperRouters</storageLocation>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="3069d1ee-3efb-4e7a-93f6-e75d5cbe5f9e" action="call">
                    <command>
                        <body>parse_routes -routes $routes -juniperRouters $juniperRouters</body>
                    </command>
                    <postProcessing>
                        <storeResponseAt>parseRoutes</storeResponseAt>
                        <storeResponseText>true</storeResponseText>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="2aa72412-7516-4d7b-bef0-2a98cc1b4de8" action="if">
                    <command>
                        <body>$parseRoutes != 0</body>
                    </command>
                    <nestedSteps>
                        <item guid="ada2882d-3ae4-4afc-902a-b01c102fbfef" action="then">
                            <nestedSteps>
                                <item guid="bff77c06-2162-4acc-820e-956518d61261" action="eval">
                                    <command>
                                        <body>set newRoutes [lindex $parseRoutes 2]</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="d62c552e-45cb-440c-9462-540d1962021f" action="else">
                            <nestedSteps>
                                <item guid="20814cbd-aa8e-4c17-a9de-d8f00aaa49a7" action="return">
                                    <command>
                                        <body>0</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="fac1aab4-a658-4649-ac9e-82146f33f296" action="eval">
                    <command>
                        <body>set routeIndex 0</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="b58b90ab-a765-490e-8023-9f05854709f9" action="foreach">
                    <command>
                        <body>route $newRoutes</body>
                    </command>
                    <nestedSteps>
                        <item guid="ffacc5de-2a64-4f10-955c-00e999e0cb7a" action="eval">
                            <command>
                                <body>incr routeIndex</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="8cee3d7c-5d54-4927-89a3-6c394db83fb7" action="eval">
                            <command>
                                <body>set source [list [lindex $route 0]]</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="49b85444-5b76-4c81-a992-cf4edaeb3057" action="eval">
                            <command>
                                <body>set target [list [lindex $route 1]]</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="81b70030-eb93-4237-822c-9fc228c8b1f0" action="command" session="$session">
                            <command>
                                <body>::TestShellAPI::DisconnectRoutesInReservation $reservationId &quot;$source $target&quot;</body>
                            </command>
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="contains">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.ExtractorContainsPropertyGroup">
                                                <searchString>SUCCESS</searchString>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="assert">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                <expression>$value == 1</expression>
                                                <actionsWhenTrue>
                                                    <item actionId="DeclareExecutionIssue">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="Information">
                                                            <message>Successfully disconnected route $route from reservation</message>
                                                        </actionProperties>
                                                    </item>
                                                </actionsWhenTrue>
                                                <actionsWhenFalse>
                                                    <item actionId="DeclareExecutionIssue">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                            <message>Fail to disconnect the route $route from the reservation</message>
                                                        </actionProperties>
                                                    </item>
                                                    <item actionId="ExitProcedure">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExitProcedurePropertyGroup">
                                                            <return>0</return>
                                                        </actionProperties>
                                                    </item>
                                                    <item actionId="FailTest">
                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    </item>
                                                </actionsWhenFalse>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="0f4c41e5-4aff-40e7-86fb-8d69c4886119" action="return">
                    <command>
                        <body>1</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <multilineDescription>The function returns 0 for failure or 1 for success. </multilineDescription>
            <arguments>
                <item name="reservationId">
                    <description>The id of the reservation returned by the create_reservation command</description>
                    <isMandatory>true</isMandatory>
                </item>
                <item name="routes">
                    <description>Route to be disconnected (space separated values)
E.g. &quot;{TG/IXIA/XM12_02:11/15 Ciena_3930-11:9} {Ciena_3930-11:11 PE12:ge-1/3/1}&quot;</description>
                    <isMandatory>true</isMandatory>
                </item>
            </arguments>
        </item>
        <item name="end_reservation" isPublic="true">
            <steps>
                <item guid="318d07da-627e-4732-8ae6-211c3271d6a0" action="command" session="$session">
                    <command>
                        <body>::TestShellAPI::EndReservation $reservationId 1</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="contains">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.ExtractorContainsPropertyGroup">
                                        <searchString>SUCCESS</searchString>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="assert">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                        <expression>$value == 1</expression>
                                        <actionsWhenTrue>
                                            <item actionId="DeclareExecutionIssue">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="Information">
                                                    <message>Successfully ended reservation</message>
                                                </actionProperties>
                                            </item>
                                            <item actionId="ExitProcedure">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExitProcedurePropertyGroup">
                                                    <return>1</return>
                                                </actionProperties>
                                            </item>
                                        </actionsWhenTrue>
                                        <actionsWhenFalse>
                                            <item actionId="DeclareExecutionIssue">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                    <message>Fail to end reservation</message>
                                                </actionProperties>
                                            </item>
                                            <item actionId="FailTest">
                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            </item>
                                            <item actionId="ExitProcedure">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExitProcedurePropertyGroup">
                                                    <return>0</return>
                                                </actionProperties>
                                            </item>
                                        </actionsWhenFalse>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <multilineDescription>Creates an immediate reservation, adds resources and creates the routes (similar to adding topology). Returns 0 for failure and reservation id for success. (reservation id example: &apos;91d65fec-aa8e-46a6-a754-ec7ff29fbd4e&apos;)
This function will not activate the resources (create the L1 mappings) until the activate_reservation function is called.</multilineDescription>
            <arguments>
                <item name="reservationId">
                    <description>The reservation id returned in the create_reservation command.</description>
                    <isMandatory>true</isMandatory>
                </item>
            </arguments>
        </item>
        <item name="get_reservation_by_topology" isPublic="true">
            <steps>
                <item guid="cba97f86-53ff-4cbe-937f-00a84e506db0" action="eval">
                    <command>
                        <body>set user [param ResourceReservation/qualiUsername]</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="8d6e2589-5b63-43db-8e10-7ef13c2cdd58" action="eval">
                    <command>
                        <body>set topolgy [param ResourceReservation/topologyPath]</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="ef744d74-5c3e-4c2e-874c-ca9f77f238c0" action="command" session="$session" useResponseMapLibraryApplicability="false">
                    <command>
                        <body>::TestShellAPI::GetCurrentReservations $user</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query sub="true">reservation_id($topolgy)</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>reservation_id</storageLocation>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <responseMap>project://d_qualisystems/response_maps/TestShellAPI_GetCurrentReservations.ffrm</responseMap>
                    <useResponseMapLibraryFromSession>false</useResponseMapLibraryFromSession>
                </item>
                <item guid="125d9452-6171-4686-b12a-9baa9f945987" action="return">
                    <command>
                        <body>$reservation_id</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
        </item>
        <item name="get_resource_ip" isPublic="true">
            <steps>
                <item guid="aca53ebd-5537-4ee9-8eb2-a3e82fe20310" action="comment">
                    <command>
                        <body>Parsing the resource. A certain format must be met (see parameter description)</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="019e76be-b19f-4fde-8c2b-3413bdea998e" action="eval">
                    <command>
                        <body>set switchFlag 0</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="a052142a-6192-4355-9b0f-b4a7917cf5af" action="if">
                    <command>
                        <body>[regexp {^TG/} $resourceId]</body>
                    </command>
                    <nestedSteps>
                        <item guid="1beab34c-9d24-440d-a736-aa2ca126935a" action="then">
                            <nestedSteps>
                                <item guid="de8a0dee-b8f2-4b97-a214-717218166a81" action="eval">
                                    <command>
                                        <body>set switchFlag 1</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="e8a7e7c2-4ce7-441a-98a3-41247b9c8b02" action="if">
                                    <command>
                                        <body>[regexp {TG/(.+)/(.+)} $resourceId all chassisType chassis]</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="5f2dde55-a4bb-4870-8e41-b95710bcd129" action="then">
                                            <nestedSteps>
                                                <item guid="323242ec-5c2d-4f04-9094-311ed483b7ab" action="eval">
                                                    <command>
                                                        <body>set parentResource &quot;Traffic Generator/$chassisType/$chassis&quot;</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                        <item guid="21832f88-3805-4156-af38-0471af22f952" action="elseif">
                                            <command>
                                                <body>[regexp {TG/(.+)} $resourceId all chassis]</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="6fc7aa11-fc6f-406b-add7-9dc2ae402e71" action="eval">
                                                    <command>
                                                        <body>set parentResource &quot;Traffic Generator/$chassis&quot;</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                        <item guid="42bf3e42-dbc4-43b0-8659-4594acfc1e72" action="else">
                                            <nestedSteps>
                                                <item guid="ef7ce053-b6c1-471f-aa4c-1a83388eec41" action="eval">
                                                    <command>
                                                        <body>puts error</body>
                                                    </command>
                                                    <postProcessing>
                                                        <analysisRules>
                                                            <item>
                                                                <extractorInfo extractorType="none">
                                                                    <extractorProperties type="com.fnfr.svt.documents.EmptyExtractorPropertyGroup"/>
                                                                </extractorInfo>
                                                                <processorInfo ruleType="message">
                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.MessageProcessorPropertyGroup">
                                                                        <message> Incorrect TG input $resourceId</message>
                                                                    </ruleProperties>
                                                                </processorInfo>
                                                            </item>
                                                        </analysisRules>
                                                    </postProcessing>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                </item>
                                                <item guid="82517c9b-9dc7-48c2-8428-3a335c00e9d6" action="return">
                                                    <command>
                                                        <body>0</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="e4d59362-9335-4b0a-8b87-c670bd7487b2" action="if">
                    <command>
                        <body>[regexp {^(Ciena_3|Juniper_EX)} $resourceId]</body>
                    </command>
                    <nestedSteps>
                        <item guid="405b8502-2783-4aef-8ba1-3082653ee950" action="then">
                            <nestedSteps>
                                <item guid="4d2ed390-53b1-44b2-b567-87e5f93a4a92" action="eval">
                                    <command>
                                        <body>set switchFlag 1</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="7819fa28-6b31-42dc-b481-caa465504990" action="if">
                                    <command>
                                        <body>[regexp {(.+)_(\\d+)} $resourceId all nteType nteUnit]</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="64261485-f59e-41a9-98c1-be9c174e40df" action="then">
                                            <nestedSteps>
                                                <item guid="eada1add-7a74-48e0-bf01-7df899a01a37" action="eval">
                                                    <command>
                                                        <body>set parentResource &quot;L2 Switches/${nteType}_$nteUnit&quot;</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                        <item guid="546ca055-7140-4b90-9cb6-6e63fa2ef4f8" action="else">
                                            <nestedSteps>
                                                <item guid="1eedce4b-c2e8-4afe-a96a-2e5fbb5742b7" action="eval">
                                                    <command>
                                                        <body>puts error</body>
                                                    </command>
                                                    <postProcessing>
                                                        <analysisRules>
                                                            <item>
                                                                <extractorInfo extractorType="none">
                                                                    <extractorProperties type="com.fnfr.svt.documents.EmptyExtractorPropertyGroup"/>
                                                                </extractorInfo>
                                                                <processorInfo ruleType="message">
                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.MessageProcessorPropertyGroup">
                                                                        <message> Incorrect nte input $resourceId</message>
                                                                    </ruleProperties>
                                                                </processorInfo>
                                                            </item>
                                                        </analysisRules>
                                                    </postProcessing>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                </item>
                                                <item guid="5499220c-fff9-4a8a-a1bc-8d2305a3862a" action="return">
                                                    <command>
                                                        <body>0</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="b096a6b6-f56d-4840-8350-3cb246d908ef" action="if">
                    <command>
                        <body>[regexp {^Ciena_5} $resourceId]</body>
                    </command>
                    <nestedSteps>
                        <item guid="553168b4-5663-409e-a77e-01edf125e51d" action="then">
                            <nestedSteps>
                                <item guid="8b017307-6ab3-422b-bf0a-06da2b14d68d" action="eval">
                                    <command>
                                        <body>set switchFlag 1</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="1eff1c8a-12ef-4997-85cc-81f30f5fb50d" action="if">
                                    <command>
                                        <body>[regexp {(.+)_(\\d+)} $resourceId all nteType nteUnit]</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="a90cc49e-e05e-4bcf-ad4f-7cfb00f0011e" action="then">
                                            <nestedSteps>
                                                <item guid="39f59fdf-4895-4dbe-9cf6-6f9054bef940" action="eval">
                                                    <command>
                                                        <body>set parentResource &quot;L2 Switches/${nteType}_$nteUnit&quot;</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                        <item guid="3a91800a-a402-47c0-923a-f61aa082e808" action="else">
                                            <nestedSteps>
                                                <item guid="56f8758f-dbd3-492c-b229-e4de9541cc0c" action="eval">
                                                    <command>
                                                        <body>puts error</body>
                                                    </command>
                                                    <postProcessing>
                                                        <analysisRules>
                                                            <item>
                                                                <extractorInfo extractorType="none">
                                                                    <extractorProperties type="com.fnfr.svt.documents.EmptyExtractorPropertyGroup"/>
                                                                </extractorInfo>
                                                                <processorInfo ruleType="message">
                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.MessageProcessorPropertyGroup">
                                                                        <message>Incorrect nte input $resourceId</message>
                                                                    </ruleProperties>
                                                                </processorInfo>
                                                            </item>
                                                        </analysisRules>
                                                    </postProcessing>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                </item>
                                                <item guid="45f7afca-4645-4526-8ed7-354056b00bb4" action="return">
                                                    <command>
                                                        <body>0</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="63e96fd5-fa49-40d5-bb46-8733d6bb4d97" action="if">
                    <command>
                        <body>[regexp {PE\\d+} $resourceId]</body>
                    </command>
                    <nestedSteps>
                        <item guid="1e6760c1-62e6-4450-96f5-2176e10fd376" action="then">
                            <nestedSteps>
                                <item guid="045d2545-08a4-4369-8491-18ccfd57d2fe" action="eval">
                                    <command>
                                        <body>set switchFlag 1</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="e5774c7d-123b-4d1d-85ea-013006092fa4" action="command" session="$session">
                                    <command>
                                        <body>::TestShellAPI::GetFolderContent Routers 1</body>
                                    </command>
                                    <postProcessing>
                                        <analysisRules>
                                            <item>
                                                <extractorInfo extractorType="contains">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.ExtractorContainsPropertyGroup">
                                                        <searchString>SUCCESS</searchString>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="assert">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                        <expression>$value == 1</expression>
                                                        <actionsWhenFalse>
                                                            <item actionId="DeclareExecutionIssue">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                                    <message>Could not extract &apos;Routers&apos; folder content from the RM database</message>
                                                                </actionProperties>
                                                            </item>
                                                            <item actionId="FailTest">
                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            </item>
                                                            <item actionId="ExitProcedure">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExitProcedurePropertyGroup">
                                                                    <return>0</return>
                                                                </actionProperties>
                                                            </item>
                                                        </actionsWhenFalse>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="regex">
                                                    <extractorProperties type="com.fnfr.svt.mapping.regex.extractors.RegexExtractorPropertyGroup" useLineMode="true">
                                                        <regex>^\\s+\\&lt;Content Name=&quot;(\\w+)&quot; Type=&quot;Resource&quot;</regex>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>juniperRouters</storageLocation>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                        </analysisRules>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="e7bee57a-2d3a-4615-b9de-bb959e728cde" action="foreach">
                                    <command>
                                        <body>router $juniperRouters</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="f4c3b71b-463b-4c28-8991-96d35bf03475" action="if">
                                            <command>
                                                <body>[regexp &quot;$resourceId&quot; $router]</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="cd3bf6bf-620c-4072-9398-d1ed723417cf" action="then">
                                                    <nestedSteps>
                                                        <item guid="bdac1c10-e0f9-453d-8e4b-8579a038ed8a" action="eval">
                                                            <command>
                                                                <body>set parentResource $router</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                        </item>
                                                        <item guid="80eb5c0e-f1a2-4d03-b211-165535bd243a" action="break">
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="e2bfb2a3-fe1e-485b-80f5-8c55e2f4e19b" action="if">
                                    <command>
                                        <body>![info exists local parentResource]</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="e8ec275d-ffbf-4b50-83d0-f492538e618c" action="then">
                                            <nestedSteps>
                                                <item guid="156e2915-f761-4786-a1ac-881de6a73166" action="eval">
                                                    <command>
                                                        <body>puts error</body>
                                                    </command>
                                                    <postProcessing>
                                                        <analysisRules>
                                                            <item>
                                                                <extractorInfo extractorType="none">
                                                                    <extractorProperties type="com.fnfr.svt.documents.EmptyExtractorPropertyGroup"/>
                                                                </extractorInfo>
                                                                <processorInfo ruleType="message">
                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.MessageProcessorPropertyGroup">
                                                                        <message> Router $resourceId not found in the Routers folder</message>
                                                                    </ruleProperties>
                                                                </processorInfo>
                                                            </item>
                                                        </analysisRules>
                                                    </postProcessing>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                </item>
                                                <item guid="496c78b8-de82-4af4-be40-65924e8effa0" action="return">
                                                    <command>
                                                        <body>0</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="d0787fe1-5c34-44c2-a7bf-27d1f370e4f0" action="if">
                    <command>
                        <body>$switchFlag == 0</body>
                    </command>
                    <nestedSteps>
                        <item guid="f799f6a7-bc56-4ab0-95e3-41b0f8016d1f" action="then">
                            <nestedSteps>
                                <item guid="e04d8546-711b-443e-8046-0502e3532c09" action="eval">
                                    <command>
                                        <body>puts error</body>
                                    </command>
                                    <postProcessing>
                                        <analysisRules>
                                            <item>
                                                <extractorInfo extractorType="none">
                                                    <extractorProperties type="com.fnfr.svt.documents.EmptyExtractorPropertyGroup"/>
                                                </extractorInfo>
                                                <processorInfo ruleType="message">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.MessageProcessorPropertyGroup">
                                                        <message> Router Incorrect input $resourceId provided</message>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                        </analysisRules>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="d8066b02-018c-48e3-8467-af47c247b915" action="return">
                                    <command>
                                        <body>0</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="d138418e-4e5c-4d9a-9dd5-52764dc9592f" action="command" session="$session">
                    <command>
                        <body>::TestShellAPI::GetResourceDetails &quot;$parentResource&quot; 0</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="contains">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.ExtractorContainsPropertyGroup">
                                        <searchString>SUCCESS</searchString>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="assert">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                        <expression>$value == 1</expression>
                                        <actionsWhenFalse>
                                            <item actionId="DeclareExecutionIssue">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                    <message> Could not extract the resource details from the RM DB</message>
                                                </actionProperties>
                                            </item>
                                            <item actionId="FailTest">
                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            </item>
                                            <item actionId="ExitProcedure">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExitProcedurePropertyGroup">
                                                    <return>0</return>
                                                </actionProperties>
                                            </item>
                                        </actionsWhenFalse>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>mapped/Xml/ResponseInfo/@Address</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>address</storageLocation>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="84148f41-d7ce-4bc0-9140-ec216c42fb06" action="eval">
                    <command>
                        <body>puts $address</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="none">
                                    <extractorProperties type="com.fnfr.svt.documents.EmptyExtractorPropertyGroup"/>
                                </extractorInfo>
                                <processorInfo ruleType="message">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.MessageProcessorPropertyGroup" severity="Information">
                                        <message> IP address for $resourceId is $address</message>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="7d86f0f2-c86d-40bc-a7e1-cb56c05ec10b" action="return">
                    <command>
                        <body>$address</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <multilineDescription>The function returns 0 for failure or the ip address for success. </multilineDescription>
            <arguments>
                <item name="resourceId">
                    <description>The resource id it has the same format as in the &quot;create_reservation&quot; command / &quot;routes&quot; parameter. However only the &quot;parent&quot; resource is specified
Examples: 
TG/IXIA/XM12_02
TG/Spirent/STC_01
Ciena_3930-11
Ciena_3930-11
PE12</description>
                    <isMandatory>true</isMandatory>
                </item>
            </arguments>
        </item>
        <item name="parse_routes">
            <steps>
                <item guid="a84eb91e-b561-4f9e-ac6a-448f72e1ef5f" action="eval">
                    <command>
                        <body>set newRoutes &quot;&quot;</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="5670aa1c-8658-4494-9b35-6f9a9b3acabb" action="eval">
                    <command>
                        <body>set endpoints &quot;&quot;</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="acde776c-a179-4fc4-a54a-9967beecd5b6" action="eval">
                    <command>
                        <body>set parentList &quot;&quot;</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="448af8ca-6c57-483d-b99f-f4eaa194dbc6" action="foreach">
                    <command>
                        <body>route $routes</body>
                    </command>
                    <nestedSteps>
                        <item guid="40ca9c72-b6c7-44b0-880e-69e04a86b257" action="eval">
                            <command>
                                <body>set routeLength [llength $route]</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="4814e477-b239-4adb-bfcc-f6466195b635" action="if">
                            <command>
                                <body>$routeLength != 2</body>
                            </command>
                            <nestedSteps>
                                <item guid="7744196f-c1b6-4ba7-93aa-69214de65a1a" action="then">
                                    <nestedSteps>
                                        <item guid="0ad5d12e-8af3-44bd-ae9f-670e2ce50ea7" action="if">
                                            <command>
                                                <body>[lindex $route end] != &quot;shared&quot;</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="2761b705-8bef-4da5-bc92-c4534f9828d3" action="then">
                                                    <nestedSteps>
                                                        <item guid="9bfdca07-f3dc-414c-a737-af9a96806bbd" action="eval">
                                                            <command>
                                                                <body>puts error</body>
                                                            </command>
                                                            <postProcessing>
                                                                <analysisRules>
                                                                    <item>
                                                                        <extractorInfo extractorType="none">
                                                                            <extractorProperties type="com.fnfr.svt.documents.EmptyExtractorPropertyGroup"/>
                                                                        </extractorInfo>
                                                                        <processorInfo ruleType="message">
                                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.MessageProcessorPropertyGroup">
                                                                                <message> Incorrent input. Each route must have 2 resources</message>
                                                                            </ruleProperties>
                                                                        </processorInfo>
                                                                    </item>
                                                                </analysisRules>
                                                            </postProcessing>
                                                            <nestedSteps>
                                                                <item guid="83810dd2-c3bd-4cdd-8c7a-85003eb74fec" action="return">
                                                                    <command>
                                                                        <body>0</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                            </nestedSteps>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="7b61b70e-dba7-46b6-9722-1c4cc3bbc9aa" action="eval">
                            <command>
                                <body>set count 1</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                        <item guid="6e3acc0d-fcec-4f77-a3f7-d20bac5e6f3d" action="foreach">
                            <command>
                                <body>resource $route</body>
                            </command>
                            <nestedSteps>
                                <item guid="680147e0-9ef5-4d50-b33b-1a7e32a2fd87" action="eval">
                                    <command>
                                        <body>set switchFlag 0</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="fd3d31ed-87e8-4a71-8efe-ca5a5802da84" action="if">
                                    <command>
                                        <body>$count == 1</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="8af87016-d1e0-439d-aa79-d8d7da3df207" action="then">
                                            <nestedSteps>
                                                <item guid="0bbde76b-7349-414b-9a38-d8286c04a5db" action="eval">
                                                    <command>
                                                        <body>set tempRoute &quot;&quot;</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="aad4d168-6238-4fe7-880a-2319a3b60f27" action="eval">
                                    <command>
                                        <body>set resSplit [split $resource &quot;:&quot;]</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="d7bb9f8e-2a5f-444c-9e86-ecd9961e6d5f" action="if">
                                    <command>
                                        <body>[regexp {^TG/} [lindex $resSplit 0]]</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="9fe2b2a9-6623-48b9-b45f-32d4d2fdce76" action="then">
                                            <nestedSteps>
                                                <item guid="99de4992-c558-48fa-86e3-18562b82bf16" action="eval">
                                                    <command>
                                                        <body>set switchFlag 1</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                </item>
                                                <item guid="3b232dbc-e958-4969-af25-8ba5b51a3c84" action="if">
                                                    <command>
                                                        <body>[regexp {TG/(.+)/(.+)} [lindex $resSplit 0] all chassisType chassis]</body>
                                                    </command>
                                                    <nestedSteps>
                                                        <item guid="f5e91295-e931-4df6-8e08-af452d7fbc88" action="then">
                                                            <nestedSteps>
                                                                <item guid="52552c31-d15f-4c7a-a2a4-7cc00734564a" action="if">
                                                                    <command>
                                                                        <body>[regexp {(\\d+)/(\\d+)} [lindex $resSplit 1] all card port]</body>
                                                                    </command>
                                                                    <nestedSteps>
                                                                        <item guid="d2fa4227-2ea5-4944-ab82-4b5ca90a723d" action="then">
                                                                            <nestedSteps>
                                                                                <item guid="ada2f79c-6650-4eb7-803a-13f13280f070" action="if">
                                                                                    <command>
                                                                                        <body>[regexp {([cC]opper|[fF]iber)} [lindex $resSplit 1] all mediaType]</body>
                                                                                    </command>
                                                                                    <nestedSteps>
                                                                                        <item guid="9c6ce4a5-b868-47de-9aab-3bb77e943ff5" action="then">
                                                                                            <nestedSteps>
                                                                                                <item guid="a93feb48-a5ab-43f1-bbbf-acc23855ebd1" action="eval">
                                                                                                    <command>
                                                                                                        <body>set parentResource &quot;Traffic Generator/$chassisType/$chassis&quot;</body>
                                                                                                    </command>
                                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                                                                </item>
                                                                                                <item guid="2e0c91f1-8c3d-4887-a03b-0ce2ea15ffe6" action="eval">
                                                                                                    <command>
                                                                                                        <body>set internalResourcePath &quot;$chassis/Card[format &quot;%02d&quot; $card]/Port[format &quot;%02d&quot; $port]/[string totitle $mediaType]&quot;</body>
                                                                                                    </command>
                                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                                                                </item>
                                                                                                <item guid="feeb740f-fd9c-4303-a203-529c2b4cfee1" action="eval">
                                                                                                    <command>
                                                                                                        <body>set fullResourcePath &quot;Traffic Generator/$chassisType/$chassis/Card[format &quot;%02d&quot; $card]/Port[format &quot;%02d&quot; $port]/[string totitle $mediaType]&quot;</body>
                                                                                                    </command>
                                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                                                                </item>
                                                                                            </nestedSteps>
                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                                                        </item>
                                                                                        <item guid="9b40743d-eeec-41fe-b690-1f752883fbd7" action="else">
                                                                                            <nestedSteps>
                                                                                                <item guid="813b9b39-9a17-4f4b-b43d-c5476617af40" action="eval">
                                                                                                    <command>
                                                                                                        <body>set parentResource &quot;Traffic Generator/$chassisType/$chassis&quot;</body>
                                                                                                    </command>
                                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                                                                </item>
                                                                                                <item guid="a37b2236-5ed2-4e76-8e96-346ee1c02c11" action="eval">
                                                                                                    <command>
                                                                                                        <body>set internalResourcePath &quot;$chassis/Card[format &quot;%02d&quot; $card]/Port[format &quot;%02d&quot; $port]&quot;</body>
                                                                                                    </command>
                                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                                                                </item>
                                                                                                <item guid="6686c022-f3e6-4bcc-ab55-c21a48f8fb4f" action="eval">
                                                                                                    <command>
                                                                                                        <body>set fullResourcePath &quot;Traffic Generator/$chassisType/$chassis/Card[format &quot;%02d&quot; $card]/Port[format &quot;%02d&quot; $port]&quot;</body>
                                                                                                    </command>
                                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                                                                </item>
                                                                                            </nestedSteps>
                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                                                        </item>
                                                                                    </nestedSteps>
                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                                                </item>
                                                                            </nestedSteps>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                                        </item>
                                                                        <item guid="04d53e08-bedf-44f3-a8ee-5d595d74ae24" action="else">
                                                                            <nestedSteps>
                                                                                <item guid="b3aed1aa-972d-4be2-8c02-aacff1383923" action="eval">
                                                                                    <command>
                                                                                        <body>puts error</body>
                                                                                    </command>
                                                                                    <postProcessing>
                                                                                        <analysisRules>
                                                                                            <item>
                                                                                                <extractorInfo extractorType="none">
                                                                                                    <extractorProperties type="com.fnfr.svt.documents.EmptyExtractorPropertyGroup"/>
                                                                                                </extractorInfo>
                                                                                                <processorInfo ruleType="message">
                                                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.MessageProcessorPropertyGroup">
                                                                                                        <message> Incorrect card/port input [lindex $resSplit 1]</message>
                                                                                                    </ruleProperties>
                                                                                                </processorInfo>
                                                                                            </item>
                                                                                        </analysisRules>
                                                                                    </postProcessing>
                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                                                </item>
                                                                                <item guid="0cbf301a-43e7-496e-ad35-aee526800fd8" action="return">
                                                                                    <command>
                                                                                        <body>0</body>
                                                                                    </command>
                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                </item>
                                                                            </nestedSteps>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                                        </item>
                                                                    </nestedSteps>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                                </item>
                                                            </nestedSteps>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                        </item>
                                                        <item guid="7561ebe8-56b7-49f4-bbd9-812101c2739f" action="elseif">
                                                            <command>
                                                                <body>[regexp {TG/(.+)} [lindex $resSplit 0] all chassis]</body>
                                                            </command>
                                                            <nestedSteps>
                                                                <item guid="98b89370-d359-4ede-9c00-da29bd1b3fab" action="if">
                                                                    <command>
                                                                        <body>[regexp {(.+)/(.+)/} [lindex $resSplit 1] all card port]</body>
                                                                    </command>
                                                                    <nestedSteps>
                                                                        <item guid="13d6e133-d5c5-4a13-8fe2-750edbcbeec4" action="then">
                                                                            <nestedSteps>
                                                                                <item guid="fb70712a-255e-4b54-9cb9-cb75fe57f2cc" action="if">
                                                                                    <command>
                                                                                        <body>[regexp {([cC]opper|[fF]iber)} [lindex $resSplit 1] all mediaType]</body>
                                                                                    </command>
                                                                                    <nestedSteps>
                                                                                        <item guid="16433195-d7a6-4304-a056-5e2de46d6034" action="then">
                                                                                            <nestedSteps>
                                                                                                <item guid="fd97c3fd-8c44-486a-85bf-be72ccfd4cbc" action="eval">
                                                                                                    <command>
                                                                                                        <body>set parentResource &quot;Traffic Generator/$chassis&quot;</body>
                                                                                                    </command>
                                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                                                                </item>
                                                                                                <item guid="9ea45c05-d6ab-4e71-b697-6760eb519640" action="eval">
                                                                                                    <command>
                                                                                                        <body>set internalResourcePath &quot;$chassis/$card/$port/[string totitle $mediaType]&quot;</body>
                                                                                                    </command>
                                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                                                                </item>
                                                                                                <item guid="79b35fbe-86b4-4f79-8593-cced10c9faa2" action="eval">
                                                                                                    <command>
                                                                                                        <body>set fullResourcePath &quot;Traffic Generator/$chassis/$card/$port/[string totitle $mediaType]&quot;</body>
                                                                                                    </command>
                                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                                                                </item>
                                                                                            </nestedSteps>
                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                                                        </item>
                                                                                        <item guid="33e006ca-a1f9-437b-88b0-e5249b5780ef" action="else">
                                                                                            <nestedSteps>
                                                                                                <item guid="0633d297-c218-4bbd-9f87-dbdc0b7dba59" action="eval">
                                                                                                    <command>
                                                                                                        <body>set parentResource &quot;Traffic Generator/$chassis&quot;</body>
                                                                                                    </command>
                                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                                                                </item>
                                                                                                <item guid="3816f658-9a10-4bb0-81e3-5841187be015" action="eval">
                                                                                                    <command>
                                                                                                        <body>set internalResourcePath &quot;$chassis/$card/$port&quot;</body>
                                                                                                    </command>
                                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                                                                </item>
                                                                                                <item guid="919127d6-60be-4b15-b3ff-e75e6c508704" action="eval">
                                                                                                    <command>
                                                                                                        <body>set fullResourcePath &quot;Traffic Generator/$chassis/$card/$port&quot;</body>
                                                                                                    </command>
                                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                                                                </item>
                                                                                            </nestedSteps>
                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                                                        </item>
                                                                                    </nestedSteps>
                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                                                </item>
                                                                            </nestedSteps>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                                        </item>
                                                                        <item guid="24abe623-4966-4812-9526-a2a336bf5d35" action="else">
                                                                            <nestedSteps>
                                                                                <item guid="f24ca8e4-1d3d-4bcf-a912-657396310648" action="eval">
                                                                                    <command>
                                                                                        <body>puts error</body>
                                                                                    </command>
                                                                                    <postProcessing>
                                                                                        <analysisRules>
                                                                                            <item>
                                                                                                <extractorInfo extractorType="none">
                                                                                                    <extractorProperties type="com.fnfr.svt.documents.EmptyExtractorPropertyGroup"/>
                                                                                                </extractorInfo>
                                                                                                <processorInfo ruleType="message">
                                                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.MessageProcessorPropertyGroup">
                                                                                                        <message> Incorrect input $resource</message>
                                                                                                    </ruleProperties>
                                                                                                </processorInfo>
                                                                                            </item>
                                                                                        </analysisRules>
                                                                                    </postProcessing>
                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                                                </item>
                                                                                <item guid="bdd3ef78-3bf3-489c-b898-c5b7699309dc" action="return">
                                                                                    <command>
                                                                                        <body>0</body>
                                                                                    </command>
                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                </item>
                                                                            </nestedSteps>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                                        </item>
                                                                    </nestedSteps>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                                </item>
                                                            </nestedSteps>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                        </item>
                                                        <item guid="ee82c14b-0dec-4b4c-93d1-f1f2f58925bc" action="else">
                                                            <nestedSteps>
                                                                <item guid="c16e5cd7-5a67-4012-8e48-cf11a03925f2" action="eval">
                                                                    <command>
                                                                        <body>puts error</body>
                                                                    </command>
                                                                    <postProcessing>
                                                                        <analysisRules>
                                                                            <item>
                                                                                <extractorInfo extractorType="none">
                                                                                    <extractorProperties type="com.fnfr.svt.documents.EmptyExtractorPropertyGroup"/>
                                                                                </extractorInfo>
                                                                                <processorInfo ruleType="message">
                                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.MessageProcessorPropertyGroup">
                                                                                        <message> Incorrect TG input [lindex $resSplit 0]</message>
                                                                                    </ruleProperties>
                                                                                </processorInfo>
                                                                            </item>
                                                                        </analysisRules>
                                                                    </postProcessing>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                                </item>
                                                                <item guid="072fc2da-cbce-4ea8-b999-d19b4ab4a6c9" action="return">
                                                                    <command>
                                                                        <body>0</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                            </nestedSteps>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="a4aa866c-d752-4529-8038-fb4bc28ab3fd" action="if">
                                    <command>
                                        <body>[regexp {^(Ciena_3|Juniper_EX)} [lindex $resSplit 0]]</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="0413df69-6c8c-4ad3-91d9-b8bd6afe424b" action="then">
                                            <nestedSteps>
                                                <item guid="b0824764-aea4-49bb-a100-4a95b5b92d3a" action="eval">
                                                    <command>
                                                        <body>set switchFlag 1</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                </item>
                                                <item guid="affe24be-ddfd-4b70-8fe4-0fa17190cf22" action="if">
                                                    <command>
                                                        <body>[regexp {(.+)-(\\d+):(\\d+)} $resource all nteType nteUnit ntePort]</body>
                                                    </command>
                                                    <nestedSteps>
                                                        <item guid="8bda76ee-d3af-4497-a2d8-07de977c5f16" action="then">
                                                            <nestedSteps>
                                                                <item guid="da6971b9-2638-46a8-98bf-8fd41c339648" action="if">
                                                                    <command>
                                                                        <body>[regexp {([cC]opper|[fF]iber)} $resource all mediaType]</body>
                                                                    </command>
                                                                    <nestedSteps>
                                                                        <item guid="8a4bc837-d0db-441f-8fcb-3a9b23bf98d5" action="then">
                                                                            <nestedSteps>
                                                                                <item guid="05e1e4b7-8785-418e-af65-cc98c226344a" action="eval">
                                                                                    <command>
                                                                                        <body>set parentResource &quot;L2 Switches/${nteType}_$nteUnit&quot;</body>
                                                                                    </command>
                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                                                </item>
                                                                                <item guid="c79f5ed5-2068-4e2f-a08a-e9b32f904650" action="eval">
                                                                                    <command>
                                                                                        <body>set internalResourcePath &quot;${nteType}_$nteUnit/Port[format &quot;%02d&quot; $ntePort]/[string totitle $mediaType]&quot;</body>
                                                                                    </command>
                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                                                </item>
                                                                                <item guid="128b5beb-b26f-46b1-9fa9-861b436732f2" action="eval">
                                                                                    <command>
                                                                                        <body>set fullResourcePath &quot;L2 Switches/${nteType}_$nteUnit/Port[format &quot;%02d&quot; $ntePort]/[string totitle $mediaType]&quot;</body>
                                                                                    </command>
                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                                                </item>
                                                                            </nestedSteps>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                                        </item>
                                                                        <item guid="0865da57-8539-439f-ad9b-6f140b38513b" action="elseif">
                                                                            <command>
                                                                                <body>[regexp {(1[gGeE]+|10[gGeE]+)} $resource all speedType]</body>
                                                                            </command>
                                                                            <nestedSteps>
                                                                                <item guid="e72e8cb0-2bab-4210-866d-b46048c317ae" action="eval">
                                                                                    <command>
                                                                                        <body>set parentResource &quot;L2 Switches/${nteType}_$nteUnit&quot;</body>
                                                                                    </command>
                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                                                </item>
                                                                                <item guid="d06a9596-50cb-42e9-bd34-ab9441b4d367" action="eval">
                                                                                    <command>
                                                                                        <body>set internalResourcePath &quot;${nteType}_$nteUnit/Port[format &quot;%02d&quot; $ntePort]/[string toupper $speedType]&quot;</body>
                                                                                    </command>
                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                                                </item>
                                                                                <item guid="0d7aba26-52c9-40e7-a736-ea50e4b73ee4" action="eval">
                                                                                    <command>
                                                                                        <body>set fullResourcePath &quot;L2 Switches/${nteType}_$nteUnit/Port[format &quot;%02d&quot; $ntePort]/[string toupper $speedType]&quot;</body>
                                                                                    </command>
                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                                                </item>
                                                                            </nestedSteps>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                                        </item>
                                                                        <item guid="2df907b1-4b5c-447c-9ece-a209c2a11413" action="else">
                                                                            <nestedSteps>
                                                                                <item guid="4749d3bf-da18-4066-93d0-15161479aa15" action="eval">
                                                                                    <command>
                                                                                        <body>set parentResource &quot;L2 Switches/${nteType}_$nteUnit&quot;</body>
                                                                                    </command>
                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                                                </item>
                                                                                <item guid="de3f8528-fe94-4af6-8692-285c83c83ba3" action="eval">
                                                                                    <command>
                                                                                        <body>set internalResourcePath &quot;${nteType}_$nteUnit/Port[format &quot;%02d&quot; $ntePort]&quot;</body>
                                                                                    </command>
                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                                                </item>
                                                                                <item guid="2366694c-3def-4da2-b4e2-a64ecbeaa7bb" action="eval">
                                                                                    <command>
                                                                                        <body>set fullResourcePath &quot;L2 Switches/${nteType}_$nteUnit/Port[format &quot;%02d&quot; $ntePort]&quot;</body>
                                                                                    </command>
                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                                                </item>
                                                                            </nestedSteps>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                                        </item>
                                                                    </nestedSteps>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                                </item>
                                                            </nestedSteps>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                        </item>
                                                        <item guid="ef3beeb6-f322-4857-aa27-fe916beb1c2d" action="else">
                                                            <nestedSteps>
                                                                <item guid="0e1a81d6-e8d4-4104-8707-88e69b9267fb" action="eval">
                                                                    <command>
                                                                        <body>puts error</body>
                                                                    </command>
                                                                    <postProcessing>
                                                                        <analysisRules>
                                                                            <item>
                                                                                <extractorInfo extractorType="none">
                                                                                    <extractorProperties type="com.fnfr.svt.documents.EmptyExtractorPropertyGroup"/>
                                                                                </extractorInfo>
                                                                                <processorInfo ruleType="message">
                                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.MessageProcessorPropertyGroup">
                                                                                        <message> Incorrect nte input $resource</message>
                                                                                    </ruleProperties>
                                                                                </processorInfo>
                                                                            </item>
                                                                        </analysisRules>
                                                                    </postProcessing>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                                </item>
                                                                <item guid="9a7f07f4-c43c-400d-b8f8-f1e7e6331380" action="return">
                                                                    <command>
                                                                        <body>0</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                            </nestedSteps>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="e305f93b-9a0b-446c-b54a-c0f7af8156a8" action="if">
                                    <command>
                                        <body>[regexp {^Ciena_5} [lindex $resSplit 0]]</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="39c42873-cf87-4622-9b2e-7fb1bb6e80e8" action="then">
                                            <nestedSteps>
                                                <item guid="2cdd019b-494b-42eb-9fe7-f88c3b9ff5b6" action="eval">
                                                    <command>
                                                        <body>set switchFlag 1</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                </item>
                                                <item guid="df40375c-3165-40ca-893a-6dab5370b7df" action="if">
                                                    <command>
                                                        <body>[regexp {(.+)-(\\d+)} [lindex $resSplit 0] all nteType nteUnit]</body>
                                                    </command>
                                                    <nestedSteps>
                                                        <item guid="697a3d4c-a458-4202-816e-cafc6754f20e" action="then">
                                                            <nestedSteps>
                                                                <item guid="7637dc54-3d1d-4830-b8de-b60e3bff71e9" action="eval">
                                                                    <command>
                                                                        <body>set parentResource &quot;L2 Switches/${nteType}_$nteUnit&quot;</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                                </item>
                                                                <item guid="622d522f-21f4-4392-b5d1-f65036039929" action="eval">
                                                                    <command>
                                                                        <body>set internalResourcePath &quot;${nteType}_$nteUnit/Port[lindex $resSplit 1]&quot;</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                                </item>
                                                                <item guid="66912b11-e34e-4a9e-9f3d-251a4cd4bcf1" action="eval">
                                                                    <command>
                                                                        <body>set fullResourcePath &quot;L2 Switches/${nteType}_$nteUnit/Port[lindex $resSplit 1]&quot;</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                                </item>
                                                            </nestedSteps>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                        </item>
                                                        <item guid="105a94e3-943e-4ccc-8dce-582483a286f4" action="else">
                                                            <nestedSteps>
                                                                <item guid="16975e87-ccec-432b-9ee0-e4918f4b8e26" action="eval">
                                                                    <command>
                                                                        <body>puts error</body>
                                                                    </command>
                                                                    <postProcessing>
                                                                        <analysisRules>
                                                                            <item>
                                                                                <extractorInfo extractorType="none">
                                                                                    <extractorProperties type="com.fnfr.svt.documents.EmptyExtractorPropertyGroup"/>
                                                                                </extractorInfo>
                                                                                <processorInfo ruleType="message">
                                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.MessageProcessorPropertyGroup">
                                                                                        <message> Incorrect nte input $resource</message>
                                                                                    </ruleProperties>
                                                                                </processorInfo>
                                                                            </item>
                                                                        </analysisRules>
                                                                    </postProcessing>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                                </item>
                                                                <item guid="1b74226f-ce00-43b1-9c6c-54805ec236e2" action="return">
                                                                    <command>
                                                                        <body>0</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                            </nestedSteps>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="5c79da3e-d8a1-40fc-8aa9-dc054e4974a1" action="if">
                                    <command>
                                        <body>[regexp {^PE} [lindex $resSplit 0]]</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="933d7385-171a-487d-88ce-6c8490faa2c8" action="then">
                                            <nestedSteps>
                                                <item guid="acce2ca5-9db6-4645-92a5-8d12709944ec" action="eval">
                                                    <command>
                                                        <body>set switchFlag 1</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                </item>
                                                <item guid="f2047e5b-3c09-49d0-a144-e44dedd8b13a" action="if">
                                                    <command>
                                                        <body>[regexp {[a-zA-Z]-(\\d+)/(\\d+)/(\\d+)} [lindex $resSplit 1] all blade part1 part2]</body>
                                                    </command>
                                                    <nestedSteps>
                                                        <item guid="038c3101-1798-48cb-a746-37b791e49061" action="then">
                                                            <nestedSteps>
                                                                <item guid="7373af1a-ceed-42bc-b06d-2a860bb3d7ba" action="foreach">
                                                                    <command>
                                                                        <body>router $juniperRouters</body>
                                                                    </command>
                                                                    <nestedSteps>
                                                                        <item guid="ee9788db-4756-4ae2-a585-5bd44d0d0e88" action="if">
                                                                            <command>
                                                                                <body>[regexp &quot;[lindex $resSplit 0]$&quot; $router]</body>
                                                                            </command>
                                                                            <nestedSteps>
                                                                                <item guid="558bc40c-39f2-46c6-87c9-954a1d5ffc06" action="then">
                                                                                    <nestedSteps>
                                                                                        <item guid="b9a1bbd0-365e-465b-a98c-f902864d3cb7" action="eval">
                                                                                            <command>
                                                                                                <body>set juniperRouter $router</body>
                                                                                            </command>
                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                                                        </item>
                                                                                        <item guid="7fd3837c-d24c-4766-85b1-6db5f7ac7be8" action="break">
                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                                                        </item>
                                                                                    </nestedSteps>
                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                                                </item>
                                                                            </nestedSteps>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                                        </item>
                                                                    </nestedSteps>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                                </item>
                                                                <item guid="39f9ba79-d1a1-49b9-b07e-f672386fb346" action="if">
                                                                    <command>
                                                                        <body>![info exists local juniperRouter]</body>
                                                                    </command>
                                                                    <nestedSteps>
                                                                        <item guid="40d38a4f-5965-47ab-9a6f-81a87f16b425" action="then">
                                                                            <nestedSteps>
                                                                                <item guid="2ca8bff5-3744-4386-aea8-0214f48bf98b" action="eval">
                                                                                    <command>
                                                                                        <body>puts error</body>
                                                                                    </command>
                                                                                    <postProcessing>
                                                                                        <analysisRules>
                                                                                            <item>
                                                                                                <extractorInfo extractorType="none">
                                                                                                    <extractorProperties type="com.fnfr.svt.documents.EmptyExtractorPropertyGroup"/>
                                                                                                </extractorInfo>
                                                                                                <processorInfo ruleType="message">
                                                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.MessageProcessorPropertyGroup">
                                                                                                        <message> Router [lindex $resSplit 0] not found in the Routers folder</message>
                                                                                                    </ruleProperties>
                                                                                                </processorInfo>
                                                                                            </item>
                                                                                        </analysisRules>
                                                                                    </postProcessing>
                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                                                </item>
                                                                                <item guid="bc4da99a-3c8e-4018-a516-98bdf5fa65d5" action="return">
                                                                                    <command>
                                                                                        <body>0</body>
                                                                                    </command>
                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                </item>
                                                                            </nestedSteps>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                                        </item>
                                                                    </nestedSteps>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                                </item>
                                                                <item guid="aed210be-6103-470f-87fa-412f9e52b596" action="eval">
                                                                    <command>
                                                                        <body>set parentResource &quot;Routers/${juniperRouter}/&quot;</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                                </item>
                                                                <item guid="bac6075f-5d9a-4952-8cd3-0b1a5eb7affb" action="eval">
                                                                    <command>
                                                                        <body>set internalResourcePath &quot;${juniperRouter}/Blade[format &quot;%02d&quot; $blade]/Port${part1}_$part2&quot;</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                                </item>
                                                                <item guid="2620ac6b-f21e-4106-b476-d269d3089569" action="eval">
                                                                    <command>
                                                                        <body>set fullResourcePath &quot;Routers/${juniperRouter}/Blade[format &quot;%02d&quot; $blade]/Port${part1}_$part2&quot;</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                                </item>
                                                            </nestedSteps>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                        </item>
                                                        <item guid="c3f3bbf8-3947-4682-951a-36cf90a33cad" action="else">
                                                            <nestedSteps>
                                                                <item guid="648ec544-5733-4f71-bda3-c60627b9f092" action="eval">
                                                                    <command>
                                                                        <body>puts error</body>
                                                                    </command>
                                                                    <postProcessing>
                                                                        <analysisRules>
                                                                            <item>
                                                                                <extractorInfo extractorType="none">
                                                                                    <extractorProperties type="com.fnfr.svt.documents.EmptyExtractorPropertyGroup"/>
                                                                                </extractorInfo>
                                                                                <processorInfo ruleType="message">
                                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.MessageProcessorPropertyGroup">
                                                                                        <message> Incorrect pe input $resource</message>
                                                                                    </ruleProperties>
                                                                                </processorInfo>
                                                                            </item>
                                                                        </analysisRules>
                                                                    </postProcessing>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                                </item>
                                                                <item guid="db779ccd-66fc-4834-8dca-c0c39c3acd3e" action="return">
                                                                    <command>
                                                                        <body>0</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                            </nestedSteps>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="f1dc4dd9-284e-493f-811c-fa228e48c940" action="if">
                                    <command>
                                        <body>$switchFlag == 0</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="f889c3d5-05d8-4002-8f0f-395cc593d7b2" action="then">
                                            <nestedSteps>
                                                <item guid="45ffe086-e766-4478-b485-4579aeb1c486" action="if">
                                                    <command>
                                                        <body>$resource == &quot;shared&quot;</body>
                                                    </command>
                                                    <nestedSteps>
                                                        <item guid="055b1d45-1ea7-4391-bc95-f718aa8e9af1" action="then">
                                                            <nestedSteps>
                                                                <item guid="b3298308-9c1c-4e8f-b9cc-58943398e845" action="eval">
                                                                    <command>
                                                                        <body>set fullResourcePath shared</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                                </item>
                                                            </nestedSteps>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                        </item>
                                                        <item guid="7092c809-a14b-42bf-8822-d20f0e8d7fe4" action="else">
                                                            <nestedSteps>
                                                                <item guid="8656056b-33a0-41e9-b4e2-80d69cbef69f" action="eval">
                                                                    <command>
                                                                        <body>puts error</body>
                                                                    </command>
                                                                    <postProcessing>
                                                                        <analysisRules>
                                                                            <item>
                                                                                <extractorInfo extractorType="none">
                                                                                    <extractorProperties type="com.fnfr.svt.documents.EmptyExtractorPropertyGroup"/>
                                                                                </extractorInfo>
                                                                                <processorInfo ruleType="message">
                                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.MessageProcessorPropertyGroup">
                                                                                        <message> Incorrect input $resource provided</message>
                                                                                    </ruleProperties>
                                                                                </processorInfo>
                                                                            </item>
                                                                        </analysisRules>
                                                                    </postProcessing>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                                </item>
                                                                <item guid="c325dc12-849a-40da-892f-a1019a590414" action="return">
                                                                    <command>
                                                                        <body>0</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                            </nestedSteps>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            <useFieldsInCommand>false</useFieldsInCommand>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="25711022-3b45-47c8-abd2-0ccf999304e0" action="eval">
                                    <command>
                                        <body>lappend parentList $parentResource</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="7131082f-afe3-4c2f-be61-9f161cd632fb" action="eval">
                                    <command>
                                        <body>lappend endpoints $internalResourcePath</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="167ea61d-cf62-41a7-80b6-c5cd0f7d3300" action="if">
                                    <command>
                                        <body>$count % $routeLength == 0</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="46305fc4-0e61-4690-bf27-37532ff147b9" action="then">
                                            <nestedSteps>
                                                <item guid="1b793a03-0f9e-43e4-b707-937db6ce3e2f" action="eval">
                                                    <command>
                                                        <body>lappend tempRoute $fullResourcePath</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                </item>
                                                <item guid="a11407a2-a72f-461a-b94c-7ed345f5672a" action="eval">
                                                    <command>
                                                        <body>lappend newRoutes $tempRoute</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                        <item guid="8efc6134-2dbf-4d1d-b04b-79520140b9ec" action="else">
                                            <nestedSteps>
                                                <item guid="c084ce89-da27-477b-89cc-e8e12f7d67d1" action="eval">
                                                    <command>
                                                        <body>lappend tempRoute $fullResourcePath</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    <useFieldsInCommand>false</useFieldsInCommand>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            <useFieldsInCommand>false</useFieldsInCommand>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="25c0bff2-75c7-40ce-ac84-d1d57cdb04f7" action="eval">
                                    <command>
                                        <body>incr count</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                                <item guid="5c61739d-f32a-42e5-a3f9-ab200440c3c8" action="eval">
                                    <command>
                                        <body>set parentList [lsort -unique $parentList]</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    <useFieldsInCommand>false</useFieldsInCommand>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <useFieldsInCommand>false</useFieldsInCommand>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <useFieldsInCommand>false</useFieldsInCommand>
                </item>
                <item guid="766e817f-3cf1-48b5-95c9-17d563a0df0a" action="return">
                    <command>
                        <body>[list $parentList $endpoints $newRoutes]</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <arguments>
                <item name="routes"/>
                <item name="juniperRouters"/>
            </arguments>
        </item>
    </procedures>
</testCase>
